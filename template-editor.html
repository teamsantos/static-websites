<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Template Editor</title>
        <link rel="stylesheet" href="styles/base.css">
        <link rel="stylesheet" href="styles/editor.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5/dist/iro.min.js"></script>
        <script type="module" src="app/base.js"></script>
        <script type="module" src="app/editor/editor.js"></script>
    </head>
    <body>
        <!-- Editor Overlay -->
        <div class="editor-overlay">
            <canvas class="stars" aria-hidden="true"></canvas>
            <div class="editor-info">
                <h2 style="color: #f8fafc;">Template Editor</h2>
            </div>
            <div class="editor-controls">
                <button id="change-template-btn" class="btn btn-outline btn-glass">Change template</button>
                <button id="edit-trail-images-btn" class="btn btn-outline btn-glass" style="display: none;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <circle cx="8.5" cy="8.5" r="1.5"></circle>
                        <polyline points="21 15 16 10 5 21"></polyline>
                    </svg>
                    Pointer Images
                </button>
                <button id="save-changes-btn" class="btn btn-outline btn-glass">Save Changes</button>
                <button id="export-template-btn" class="btn btn-primary">Export</button>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-logo">
                    <svg class="loading-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" />
                    </svg>
                </div>
                <h2 class="loading-title">Template Editor</h2>
                <p class="loading-subtitle">Preparing your workspace...</p>
                <div class="loading-spinner-container">
                    <div class="loading-spinner"></div>
                </div>
                <p class="loading-status" id="loading-status-text">Loading template...</p>
            </div>
        </div>

        <!-- Template Content Container -->
        <div class="editor-container">
            <div id="template-content" class="template-content-hidden">
                <div class="template-error-state" style="display: none;">
                    <div style="text-align: center;">
                        <h3>Welcome to Template Editor</h3>
                        <p>Please check your URL and try again, or contact us at <span id="support-email-placeholder"></span></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Messages -->
        <div id="status-message" class="status-message"></div>

        <!-- Hidden file input for images -->
        <input type="file" id="image-file-input" accept="image/*" style="display: none;">
    </body>
</html>
