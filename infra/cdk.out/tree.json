{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.211.0"},"children":{"MultiTenantDistribution":{"id":"MultiTenantDistribution","path":"MultiTenantDistribution","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"HostedZone":{"id":"HostedZone","path":"MultiTenantDistribution/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"CertManager":{"id":"CertManager","path":"MultiTenantDistribution/CertManager","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"WildcardCertificate":{"id":"WildcardCertificate","path":"MultiTenantDistribution/CertManager/WildcardCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/CertManager/WildcardCertificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"*.e-info.click","domainValidationOptions":[{"domainName":"e-info.click","hostedZoneId":"DUMMY"}],"subjectAlternativeNames":["e-info.click"],"tags":[{"key":"Name","value":"MultiTenantDistribution/CertManager/WildcardCertificate"}],"validationMethod":"DNS"}}}}},"CertificateParameter":{"id":"CertificateParameter","path":"MultiTenantDistribution/CertManager/CertificateParameter","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/CertManager/CertificateParameter/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"ACM Certificate ARN for *.e-info.click","name":"/acm/certificates/e-info.click","tier":"Standard","type":"String","value":{"Ref":"CertManagerWildcardCertificate24DD7CEC"}}}}}},"CertificateSource":{"id":"CertificateSource","path":"MultiTenantDistribution/CertManager/CertificateSource","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CertificateArn":{"id":"CertificateArn","path":"MultiTenantDistribution/CertManager/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"StaticWebsitesBucket":{"id":"StaticWebsitesBucket","path":"MultiTenantDistribution/StaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}},"OAC":{"id":"OAC","path":"MultiTenantDistribution/OAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/OAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"description":"OAC for multi-tenant static websites","name":"MultiTenantDistributionOAC582A7CB6","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"PathRewriteFunction":{"id":"PathRewriteFunction","path":"MultiTenantDistribution/PathRewriteFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Function","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/PathRewriteFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Function","aws:cdk:cloudformation:props":{"autoPublish":true,"functionCode":"\nfunction handler(event) {\n    var request = event.request;\n    var hostHeader = request.headers['host'];\n    \n    // Check if host header exists and has a value\n    if (!hostHeader || !hostHeader.value) {\n        return request;\n    }\n    \n    var host = hostHeader.value;\n    \n    // Extract project name from subdomain\n    var projectName = host.split('.')[0];\n    \n    // Normalize URI - remove duplicate slashes\n    var uri = request.uri.replace(/\\/+/g, '/');\n    \n    // Shared files are served from common /shared/ folder in S3\n    // e.g., /shared/contact-form.js -> /shared/contact-form.js (no project prefix)\n    if (uri.indexOf('/shared/') === 0) {\n        request.uri = uri;\n        return request;\n    }\n    \n    // Rewrite URI based on the path\n    if (uri === '/' || uri === '') {\n        // Root path -> /projects/projectName/index.html\n        request.uri = '/projects/' + projectName + '/index.html';\n    } else if (uri === '/success') {\n        // /success path -> /projects/projectName/index.html (preserving query string)\n        request.uri = '/projects/' + projectName + '/index.html';\n    } else {\n        // Other paths -> /projects/projectName + original path\n        request.uri = '/projects/' + projectName + uri;\n    }\n    \n    return request;\n}","functionConfig":{"comment":"us-east-1MultiTenantDistrhRewriteFunctionE03B39F8","runtime":"cloudfront-js-1.0"},"name":"us-east-1MultiTenantDistrhRewriteFunctionE03B39F8"}}}}},"CorsPolicy":{"id":"CorsPolicy","path":"MultiTenantDistribution/CorsPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.ResponseHeadersPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/CorsPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnResponseHeadersPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::ResponseHeadersPolicy","aws:cdk:cloudformation:props":{"responseHeadersPolicyConfig":{"name":"MultiTenantDistributionCorsPolicy4DA1E45F","corsConfig":{"accessControlAllowCredentials":false,"accessControlAllowHeaders":{"items":["*"]},"accessControlAllowMethods":{"items":["GET","HEAD"]},"accessControlAllowOrigins":{"items":["https://editor.e-info.click"]},"accessControlExposeHeaders":{"items":[]},"accessControlMaxAgeSec":3600,"originOverride":true}}}}}}},"Distribution":{"id":"Distribution","path":"MultiTenantDistribution/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.211.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"MultiTenantDistribution/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"MultiTenantDistribution/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":"teamsantos-static-websites.s3.eu-south-2.amazonaws.com","id":"MultiTenantDistributionOrigin19AF7B4C0","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"MultiTenantDistributionOrigin19AF7B4C0","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"responseHeadersPolicyId":{"Ref":"CorsPolicyA1BBCACE"},"viewerProtocolPolicy":"redirect-to-https","functionAssociations":[{"functionArn":{"Fn::GetAtt":["PathRewriteFunction70CC2D13","FunctionARN"]},"eventType":"viewer-request"}]},"aliases":["*.e-info.click"],"comment":"Multi-tenant CloudFront distribution for static websites","httpVersion":"http2","ipv6Enabled":true,"viewerCertificate":{"acmCertificateArn":{"Ref":"CertManagerWildcardCertificate24DD7CEC"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"WildcardAliasRecord":{"id":"WildcardAliasRecord","path":"MultiTenantDistribution/WildcardAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/WildcardAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["Distribution830FAC52","DomainName"]}},"hostedZoneId":"DUMMY","name":"*.e-info.click.","type":"A"}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"MultiTenantDistribution/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.211.0"}},"SESVerificationRecord1":{"id":"SESVerificationRecord1","path":"MultiTenantDistribution/SESVerificationRecord1","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CnameRecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/SESVerificationRecord1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"hostedZoneId":"DUMMY","name":"tlo4lw6ugpyyyctfmc4owy7tsij3scqo._domainkey.e-info.click.","resourceRecords":["tlo4lw6ugpyyyctfmc4owy7tsij3scqo.dkim.amazonses.com"],"ttl":"3600","type":"CNAME"}}}}},"SESVerificationRecord2":{"id":"SESVerificationRecord2","path":"MultiTenantDistribution/SESVerificationRecord2","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CnameRecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/SESVerificationRecord2/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"hostedZoneId":"DUMMY","name":"ebjhxt3lbu6sfocsdbbea4je7ieohq66._domainkey.e-info.click.","resourceRecords":["ebjhxt3lbu6sfocsdbbea4je7ieohq66.dkim.amazonses.com"],"ttl":"3600","type":"CNAME"}}}}},"SESVerificationRecord3":{"id":"SESVerificationRecord3","path":"MultiTenantDistribution/SESVerificationRecord3","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CnameRecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/SESVerificationRecord3/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"hostedZoneId":"DUMMY","name":"u5r7ztbhdyru4xgdz7icdi2yoprp6wkx._domainkey.e-info.click.","resourceRecords":["u5r7ztbhdyru4xgdz7icdi2yoprp6wkx.dkim.amazonses.com"],"ttl":"3600","type":"CNAME"}}}}},"DistributionId":{"id":"DistributionId","path":"MultiTenantDistribution/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DistributionDomainName":{"id":"DistributionDomainName","path":"MultiTenantDistribution/DistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CertificateArn":{"id":"CertificateArn","path":"MultiTenantDistribution/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"MultiTenantDistribution/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"MultiTenantDistribution/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"MultiTenantDistribution/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MultiTenantDistribution/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"TemplateDistribution":{"id":"TemplateDistribution","path":"TemplateDistribution","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"HostedZone":{"id":"HostedZone","path":"TemplateDistribution/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"CertManager":{"id":"CertManager","path":"TemplateDistribution/CertManager","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"WildcardCertificate":{"id":"WildcardCertificate","path":"TemplateDistribution/CertManager/WildcardCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateDistribution/CertManager/WildcardCertificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"*.template.e-info.click","domainValidationOptions":[{"domainName":"template.e-info.click","hostedZoneId":"DUMMY"}],"subjectAlternativeNames":["template.e-info.click"],"tags":[{"key":"Name","value":"TemplateDistribution/CertManager/WildcardCertificate"}],"validationMethod":"DNS"}}}}},"CertificateParameter":{"id":"CertificateParameter","path":"TemplateDistribution/CertManager/CertificateParameter","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateDistribution/CertManager/CertificateParameter/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"ACM Certificate ARN for *.template.e-info.click","name":"/acm/certificates/template.e-info.click","tier":"Standard","type":"String","value":{"Ref":"CertManagerWildcardCertificate24DD7CEC"}}}}}},"CertificateSource":{"id":"CertificateSource","path":"TemplateDistribution/CertManager/CertificateSource","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CertificateArn":{"id":"CertificateArn","path":"TemplateDistribution/CertManager/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"StaticWebsitesBucket":{"id":"StaticWebsitesBucket","path":"TemplateDistribution/StaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}},"OAC":{"id":"OAC","path":"TemplateDistribution/OAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateDistribution/OAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"description":"OAC for multi-tenant template websites","name":"TemplateDistributionOAC30EEB191","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"TemplatePathRewriteFunction":{"id":"TemplatePathRewriteFunction","path":"TemplateDistribution/TemplatePathRewriteFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Function","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateDistribution/TemplatePathRewriteFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Function","aws:cdk:cloudformation:props":{"autoPublish":true,"functionCode":"\nfunction handler(event) {\n    var request = event.request;\n    var hostHeader = request.headers['host'];\n    \n    // Check if host header exists and has a value\n    if (!hostHeader || !hostHeader.value) {\n        return request;\n    }\n    \n    var host = hostHeader.value;\n    \n    // Extract template ID from subdomain (e.g., \"businesscard\" from \"businesscard.template.e-info.click\")\n    var templateId = host.split('.')[0];\n    \n    // Normalize URI - remove duplicate slashes\n    var uri = request.uri.replace(/\\/+/g, '/');\n    \n    // Rewrite URI based on the path\n    if (uri === '/' || uri === '') {\n        // Root path -> /templates/templateId/index.html\n        request.uri = '/templates/' + templateId + '/index.html';\n    } else {\n        // Other paths -> /templates/templateId + original path\n        request.uri = '/templates/' + templateId + uri;\n    }\n    \n    return request;\n}","functionConfig":{"comment":"us-east-1TemplateDistribuhRewriteFunction41947032","runtime":"cloudfront-js-1.0"},"name":"us-east-1TemplateDistribuhRewriteFunction41947032"}}}}},"CorsPolicy":{"id":"CorsPolicy","path":"TemplateDistribution/CorsPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.ResponseHeadersPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateDistribution/CorsPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnResponseHeadersPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::ResponseHeadersPolicy","aws:cdk:cloudformation:props":{"responseHeadersPolicyConfig":{"name":"TemplateDistributionCorsPolicy72336693","corsConfig":{"accessControlAllowCredentials":false,"accessControlAllowHeaders":{"items":["*"]},"accessControlAllowMethods":{"items":["GET","HEAD"]},"accessControlAllowOrigins":{"items":["https://editor.e-info.click"]},"accessControlExposeHeaders":{"items":[]},"accessControlMaxAgeSec":3600,"originOverride":true}}}}}}},"Distribution":{"id":"Distribution","path":"TemplateDistribution/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.211.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"TemplateDistribution/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"TemplateDistribution/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":"teamsantos-static-websites.s3.eu-south-2.amazonaws.com","id":"TemplateDistributionOrigin1585039FF","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"TemplateDistributionOrigin1585039FF","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"responseHeadersPolicyId":{"Ref":"CorsPolicyA1BBCACE"},"viewerProtocolPolicy":"redirect-to-https","functionAssociations":[{"functionArn":{"Fn::GetAtt":["TemplatePathRewriteFunction4AFAEC82","FunctionARN"]},"eventType":"viewer-request"}]},"aliases":["*.template.e-info.click"],"comment":"Multi-tenant CloudFront distribution for template websites","httpVersion":"http2","ipv6Enabled":true,"viewerCertificate":{"acmCertificateArn":{"Ref":"CertManagerWildcardCertificate24DD7CEC"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"TemplateWildcardAliasRecord":{"id":"TemplateWildcardAliasRecord","path":"TemplateDistribution/TemplateWildcardAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateDistribution/TemplateWildcardAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["Distribution830FAC52","DomainName"]}},"hostedZoneId":"DUMMY","name":"*.template.e-info.click.","type":"A"}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"TemplateDistribution/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.211.0"}},"DistributionId":{"id":"DistributionId","path":"TemplateDistribution/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DistributionDomainName":{"id":"DistributionDomainName","path":"TemplateDistribution/DistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CertificateArn":{"id":"CertificateArn","path":"TemplateDistribution/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"TemplateDistribution/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"TemplateDistribution/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"TemplateDistribution/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"TemplateDistribution/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"DynamoDBMetadata":{"id":"DynamoDBMetadata","path":"DynamoDBMetadata","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"WebsitesMetadata":{"id":"WebsitesMetadata","path":"DynamoDBMetadata/WebsitesMetadata","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DynamoDBMetadata/WebsitesMetadata/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"operationId","attributeType":"S"},{"attributeName":"email","attributeType":"S"},{"attributeName":"createdAt","attributeType":"S"},{"attributeName":"paymentSessionId","attributeType":"S"},{"attributeName":"status","attributeType":"S"},{"attributeName":"projectName","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"email-createdAt-index","keySchema":[{"attributeName":"email","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"paymentSessionId-index","keySchema":[{"attributeName":"paymentSessionId","keyType":"HASH"}],"projection":{"projectionType":"ALL"}},{"indexName":"status-createdAt-index","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"projectName-index","keySchema":[{"attributeName":"projectName","keyType":"HASH"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"operationId","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tableName":"websites-metadata","timeToLiveSpecification":{"attributeName":"expiresAt","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"DynamoDBMetadata/WebsitesMetadata/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"ConfirmationCodes":{"id":"ConfirmationCodes","path":"DynamoDBMetadata/ConfirmationCodes","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DynamoDBMetadata/ConfirmationCodes/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"templateId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"templateId","keyType":"HASH"}],"tableName":"confirmation-codes","timeToLiveSpecification":{"attributeName":"expiresAt","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"DynamoDBMetadata/ConfirmationCodes/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"Idempotency":{"id":"Idempotency","path":"DynamoDBMetadata/Idempotency","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DynamoDBMetadata/Idempotency/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"idempotencyKey","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"idempotencyKey","keyType":"HASH"}],"tableName":"request-idempotency","timeToLiveSpecification":{"attributeName":"expiresAt","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"DynamoDBMetadata/Idempotency/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"MetadataReadThrottleAlarm":{"id":"MetadataReadThrottleAlarm","path":"DynamoDBMetadata/MetadataReadThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DynamoDBMetadata/MetadataReadThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB metadata table read throttle","alarmName":"MetadataReadThrottle","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"TableName","value":{"Ref":"WebsitesMetadata0BEFCF5A"}}],"evaluationPeriods":1,"metricName":"ReadThrottleEvents","namespace":"AWS/DynamoDB","period":300,"statistic":"Average","threshold":1}}}}},"MetadataWriteThrottleAlarm":{"id":"MetadataWriteThrottleAlarm","path":"DynamoDBMetadata/MetadataWriteThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DynamoDBMetadata/MetadataWriteThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB metadata table write throttle","alarmName":"MetadataWriteThrottle","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"TableName","value":{"Ref":"WebsitesMetadata0BEFCF5A"}}],"evaluationPeriods":1,"metricName":"WriteThrottleEvents","namespace":"AWS/DynamoDB","period":300,"statistic":"Average","threshold":1}}}}},"MetadataTableName":{"id":"MetadataTableName","path":"DynamoDBMetadata/MetadataTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"IdempotencyTableName":{"id":"IdempotencyTableName","path":"DynamoDBMetadata/IdempotencyTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ConfirmationCodesTableName":{"id":"ConfirmationCodesTableName","path":"DynamoDBMetadata/ConfirmationCodesTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"DynamoDBMetadata/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"DynamoDBMetadata/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"Exports":{"id":"Exports","path":"DynamoDBMetadata/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"WebsitesMetadata0BEFCF5A\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"WebsitesMetadata0BEFCF5A\",\"Arn\"]}","path":"DynamoDBMetadata/Exports/Output{\"Fn::GetAtt\":[\"WebsitesMetadata0BEFCF5A\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Fn::GetAtt\":[\"IdempotencyC15CBC33\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"IdempotencyC15CBC33\",\"Arn\"]}","path":"DynamoDBMetadata/Exports/Output{\"Fn::GetAtt\":[\"IdempotencyC15CBC33\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Ref\":\"WebsitesMetadata0BEFCF5A\"}":{"id":"Output{\"Ref\":\"WebsitesMetadata0BEFCF5A\"}","path":"DynamoDBMetadata/Exports/Output{\"Ref\":\"WebsitesMetadata0BEFCF5A\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Ref\":\"IdempotencyC15CBC33\"}":{"id":"Output{\"Ref\":\"IdempotencyC15CBC33\"}","path":"DynamoDBMetadata/Exports/Output{\"Ref\":\"IdempotencyC15CBC33\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Fn::GetAtt\":[\"ConfirmationCodes0D89FD22\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ConfirmationCodes0D89FD22\",\"Arn\"]}","path":"DynamoDBMetadata/Exports/Output{\"Fn::GetAtt\":[\"ConfirmationCodes0D89FD22\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Ref\":\"ConfirmationCodes0D89FD22\"}":{"id":"Output{\"Ref\":\"ConfirmationCodes0D89FD22\"}","path":"DynamoDBMetadata/Exports/Output{\"Ref\":\"ConfirmationCodes0D89FD22\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DynamoDBMetadata/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DynamoDBMetadata/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"StaticWebsitesBucket":{"id":"StaticWebsitesBucket","path":"StaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"ExistingStaticWebsitesBucket":{"id":"ExistingStaticWebsitesBucket","path":"StaticWebsitesBucket/ExistingStaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}},"BucketPolicyUpdate":{"id":"BucketPolicyUpdate","path":"StaticWebsitesBucket/BucketPolicyUpdate","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.211.0"},"children":{"Provider":{"id":"Provider","path":"StaticWebsitesBucket/BucketPolicyUpdate/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StaticWebsitesBucket/BucketPolicyUpdate/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"StaticWebsitesBucket/BucketPolicyUpdate/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"StaticWebsitesBucket/BucketPolicyUpdate/CustomResourcePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticWebsitesBucket/BucketPolicyUpdate/CustomResourcePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3:PutBucketPolicy","Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites"}],"Version":"2012-10-17"},"policyName":"BucketPolicyUpdateCustomResourcePolicy5BB5AAD9","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}}}}}}},"AWS679f53fac002430cb0da5b7982bd2287":{"id":"AWS679f53fac002430cb0da5b7982bd2287","path":"StaticWebsitesBucket/AWS679f53fac002430cb0da5b7982bd2287","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"StaticWebsitesBucket/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"StaticWebsitesBucket/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StaticWebsitesBucket/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"StaticWebsitesBucket/AWS679f53fac002430cb0da5b7982bd2287/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"StaticWebsitesBucket/AWS679f53fac002430cb0da5b7982bd2287/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"StaticWebsitesBucket/AWS679f53fac002430cb0da5b7982bd2287/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"StaticWebsitesBucket/AWS679f53fac002430cb0da5b7982bd2287/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"c099eb4e32cbf1c3da9c45a3b280efe2bed38d27d74aa72702b67d86d1b52354.zip"},"handler":"index.handler","role":{"Fn::GetAtt":["AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2","Arn"]},"runtime":"nodejs22.x","timeout":120}}}}},"BucketName":{"id":"BucketName","path":"StaticWebsitesBucket/BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BucketArn":{"id":"BucketArn","path":"StaticWebsitesBucket/BucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"StaticWebsitesBucket/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"StaticWebsitesBucket/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StaticWebsitesBucket/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StaticWebsitesBucket/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"CloudWatchLogsBucket":{"id":"CloudWatchLogsBucket","path":"CloudWatchLogsBucket","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"CloudWatchLogsBucket":{"id":"CloudWatchLogsBucket","path":"CloudWatchLogsBucket/CloudWatchLogsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudWatchLogsBucket/CloudWatchLogsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"teamsantos-static-websites-logs","lifecycleConfiguration":{"rules":[{"expirationInDays":90,"id":"TransitionToGlacier","status":"Enabled","transitions":[{"storageClass":"GLACIER","transitionInDays":30}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}}}}},"LogsBucketName":{"id":"LogsBucketName","path":"CloudWatchLogsBucket/LogsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"LogsBucketArn":{"id":"LogsBucketArn","path":"CloudWatchLogsBucket/LogsBucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"CloudWatchLogsBucket/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"CloudWatchLogsBucket/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CloudWatchLogsBucket/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CloudWatchLogsBucket/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"ContactFormStack":{"id":"ContactFormStack","path":"ContactFormStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"GitHubToken":{"id":"GitHubToken","path":"ContactFormStack/GitHubToken","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"GitHubConfig":{"id":"GitHubConfig","path":"ContactFormStack/GitHubConfig","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"ContactFormFunction":{"id":"ContactFormFunction","path":"ContactFormStack/ContactFormFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ContactFormStack/ContactFormFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ContactFormStack/ContactFormFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"ContactFormStack/ContactFormFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ContactFormStack/ContactFormFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ContactFormStack/ContactFormFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":secret:github-token-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":secret:github-config-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":secret:github-token-*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":secret:github-config-*"]]}]},{"Action":"ses:SendEmail","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ContactFormFunctionServiceRoleDefaultPolicy1F9C7460","roles":[{"Ref":"ContactFormFunctionServiceRole567E8CEC"}]}}}}}}},"Code":{"id":"Code","path":"ContactFormStack/ContactFormFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"ContactFormStack/ContactFormFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"ContactFormStack/ContactFormFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ContactFormStack/ContactFormFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"89467a931c18d231c8b6e479059eab35bb985c47911758e606b962323679b5ff.zip"},"description":"Handles contact form submissions from generated websites","environment":{"variables":{"GITHUB_TOKEN_SECRET_NAME":"github-token","GITHUB_CONFIG_SECRET_NAME":"github-config","FROM_EMAIL":"noreply@e-info.click","AWS_SES_REGION":"us-east-1"}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["ContactFormFunctionServiceRole567E8CEC","Arn"]},"runtime":"nodejs18.x","timeout":15}}},"LogRetention":{"id":"LogRetention","path":"ContactFormStack/ContactFormFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"ContactFormStack/ContactFormFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"ContactFormFunction-LogGroup":{"id":"ContactFormFunction-LogGroup","path":"ContactFormStack/ContactFormFunction/ContactFormFunction-LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"ContactFormStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"ContactFormLogRetention":{"id":"ContactFormLogRetention","path":"ContactFormStack/ContactFormLogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"ContactFormStack/ContactFormLogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"ContactFormFunctionArn":{"id":"ContactFormFunctionArn","path":"ContactFormStack/ContactFormFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ContactFormStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ContactFormStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}},"Condition":{"id":"Condition","path":"ContactFormStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ContactFormStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ContactFormStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"EmailTemplateStack":{"id":"EmailTemplateStack","path":"EmailTemplateStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"SendEmailLogs":{"id":"SendEmailLogs","path":"EmailTemplateStack/SendEmailLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EmailTemplateStack/SendEmailLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/send-email","retentionInDays":14}}}}},"SendEmailFunction":{"id":"SendEmailFunction","path":"EmailTemplateStack/SendEmailFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"EmailTemplateStack/SendEmailFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"EmailTemplateStack/SendEmailFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"EmailTemplateStack/SendEmailFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EmailTemplateStack/SendEmailFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EmailTemplateStack/SendEmailFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ses:SendEmail","ses:SendRawEmail"],"Effect":"Allow","Resource":"*"},{"Action":"cloudwatch:PutMetricData","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SendEmailFunctionServiceRoleDefaultPolicyC25CE35F","roles":[{"Ref":"SendEmailFunctionServiceRole377037ED"}]}}}}}}},"Code":{"id":"Code","path":"EmailTemplateStack/SendEmailFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"EmailTemplateStack/SendEmailFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"EmailTemplateStack/SendEmailFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"EmailTemplateStack/SendEmailFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"7e69acd539ac58c730d27e9060d7e82b36d53e500a91d1ae34efbc71ecb1815d.zip"},"environment":{"variables":{"SENDER_EMAIL":"noreply@e-info.click","FRONTEND_URL":"https://editor.e-info.click","SES_REGION":"eu-south-2","SENTRY_DSN":""}},"functionName":"send-email","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"SendEmailLogs21EB7BC6"}},"memorySize":256,"role":{"Fn::GetAtt":["SendEmailFunctionServiceRole377037ED","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"SendEmailFunctionNameOutput":{"id":"SendEmailFunctionNameOutput","path":"EmailTemplateStack/SendEmailFunctionNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"SendEmailFunctionArnOutput":{"id":"SendEmailFunctionArnOutput","path":"EmailTemplateStack/SendEmailFunctionArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"SenderEmailOutput":{"id":"SenderEmailOutput","path":"EmailTemplateStack/SenderEmailOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"SESSandboxNote":{"id":"SESSandboxNote","path":"EmailTemplateStack/SESSandboxNote","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"EmailTemplateStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"EmailTemplateStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"Exports":{"id":"Exports","path":"EmailTemplateStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"SendEmailFunction93B2B000\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"SendEmailFunction93B2B000\",\"Arn\"]}","path":"EmailTemplateStack/Exports/Output{\"Fn::GetAtt\":[\"SendEmailFunction93B2B000\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Ref\":\"SendEmailFunction93B2B000\"}":{"id":"Output{\"Ref\":\"SendEmailFunction93B2B000\"}","path":"EmailTemplateStack/Exports/Output{\"Ref\":\"SendEmailFunction93B2B000\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"EmailTemplateStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"EmailTemplateStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"CreateProjectStack":{"id":"CreateProjectStack","path":"CreateProjectStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"HostedZone":{"id":"HostedZone","path":"CreateProjectStack/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"ApiCertificate":{"id":"ApiCertificate","path":"CreateProjectStack/ApiCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.DnsValidatedCertificate","version":"2.211.0","metadata":[]},"children":{"CertificateRequestorFunction":{"id":"CertificateRequestorFunction","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["acm:RequestCertificate","acm:DescribeCertificate","acm:DeleteCertificate","acm:AddTagsToCertificate"],"Effect":"Allow","Resource":"*"},{"Action":"route53:GetChange","Effect":"Allow","Resource":"*"},{"Action":"route53:changeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["CNAME"],"route53:ChangeResourceRecordSetsActions":["UPSERT"]},"ForAllValues:StringLike":{"route53:ChangeResourceRecordSetsNormalizedRecordNames":["*.api.e-info.click"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/DUMMY"]]}}],"Version":"2012-10-17"},"policyName":"ApiCertificateCertificateRequestorFunctionServiceRoleDefaultPolicy37D02D57","roles":[{"Ref":"ApiCertificateCertificateRequestorFunctionServiceRole86B3A678"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"b073cebcf4d61fb152a30f5a5e57a94df7f980a549fdf1a79a0b18c5750522d8.zip"},"handler":"index.certificateRequestHandler","role":{"Fn::GetAtt":["ApiCertificateCertificateRequestorFunctionServiceRole86B3A678","Arn"]},"runtime":"nodejs22.x","timeout":900}}}}},"CertificateRequestorResource":{"id":"CertificateRequestorResource","path":"CreateProjectStack/ApiCertificate/CertificateRequestorResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"CreateProjectStack/ApiCertificate/CertificateRequestorResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"GitHubToken":{"id":"GitHubToken","path":"CreateProjectStack/GitHubToken","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"GitHubConfig":{"id":"GitHubConfig","path":"CreateProjectStack/GitHubConfig","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"CreateProjectFunction":{"id":"CreateProjectFunction","path":"CreateProjectStack/CreateProjectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/CreateProjectFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-*"]]}]},{"Action":"ses:SendEmail","Effect":"Allow","Resource":"*"},{"Action":["s3:PutObject","s3:GetObject"],"Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites/*"},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttIdempotencyC15CBC33ArnE239456F"},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"CreateProjectFunctionServiceRoleDefaultPolicy65CCDA1A","roles":[{"Ref":"CreateProjectFunctionServiceRoleCF8E7F22"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/CreateProjectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/CreateProjectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/CreateProjectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"4f9fd5f639333a947561a17bf98ce54a9324816eadc79b911bfff32ac38699da.zip"},"environment":{"variables":{"GITHUB_TOKEN_SECRET_NAME":"github-token","GITHUB_CONFIG_SECRET_NAME":"github-config","FROM_EMAIL":"noreply@e-info.click","AWS_SES_REGION":"us-east-1","S3_BUCKET_NAME":"teamsantos-static-websites","DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"DYNAMODB_IDEMPOTENCY_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefIdempotencyC15CBC335C6F7F1B"}}},"handler":"index.handler","role":{"Fn::GetAtt":["CreateProjectFunctionServiceRoleCF8E7F22","Arn"]},"runtime":"nodejs18.x","timeout":30}}},"LogRetention":{"id":"LogRetention","path":"CreateProjectStack/CreateProjectFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"CreateProjectFunction-LogGroup":{"id":"CreateProjectFunction-LogGroup","path":"CreateProjectStack/CreateProjectFunction/CreateProjectFunction-LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"CreateProjectLogRetention":{"id":"CreateProjectLogRetention","path":"CreateProjectStack/CreateProjectLogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectLogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"GenerateWebsiteFunction":{"id":"GenerateWebsiteFunction","path":"CreateProjectStack/GenerateWebsiteFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-*"]]}]},{"Action":"ses:SendEmail","Effect":"Allow","Resource":"*"},{"Action":["s3:GetObject","s3:PutObject"],"Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites/*"},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::ImportValue":"QueueStack:ExportsOutputFnGetAttWebsiteGenerationQueueFD68F17DArnF4164C2E"}},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::ImportValue":"QueueStack:ExportsOutputFnGetAttWebsiteGenerationDLQ2F773C26Arn8CF4FE33"}}],"Version":"2012-10-17"},"policyName":"GenerateWebsiteFunctionServiceRoleDefaultPolicyC3103741","roles":[{"Ref":"GenerateWebsiteFunctionServiceRole95A03123"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/GenerateWebsiteFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/GenerateWebsiteFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/GenerateWebsiteFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"47c34ae0759f9e075d9d3184374f49c2a41e77697e1671c369c06018d74081e8.zip"},"environment":{"variables":{"GITHUB_TOKEN_SECRET_NAME":"github-token","GITHUB_CONFIG_SECRET_NAME":"github-config","FROM_EMAIL":"noreply@e-info.click","AWS_SES_REGION":"us-east-1","S3_BUCKET_NAME":"teamsantos-static-websites","DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"}}},"handler":"index.handler","role":{"Fn::GetAtt":["GenerateWebsiteFunctionServiceRole95A03123","Arn"]},"runtime":"nodejs18.x","timeout":300}}},"LogRetention":{"id":"LogRetention","path":"CreateProjectStack/GenerateWebsiteFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"GenerateWebsiteFunction-LogGroup":{"id":"GenerateWebsiteFunction-LogGroup","path":"CreateProjectStack/GenerateWebsiteFunction/GenerateWebsiteFunction-LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"SqsEventSource:QueueStackWebsiteGenerationQueueF420D203":{"id":"SqsEventSource:QueueStackWebsiteGenerationQueueF420D203","path":"CreateProjectStack/GenerateWebsiteFunction/SqsEventSource:QueueStackWebsiteGenerationQueueF420D203","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteFunction/SqsEventSource:QueueStackWebsiteGenerationQueueF420D203/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":1,"eventSourceArn":{"Fn::ImportValue":"QueueStack:ExportsOutputFnGetAttWebsiteGenerationQueueFD68F17DArnF4164C2E"},"functionName":{"Ref":"GenerateWebsiteFunctionE00554AA"},"functionResponseTypes":["ReportBatchItemFailures"],"scalingConfig":{"maximumConcurrency":100}}}}}}}},"GenerateWebsiteLogRetention":{"id":"GenerateWebsiteLogRetention","path":"CreateProjectStack/GenerateWebsiteLogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteLogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"CreateProjectApi":{"id":"CreateProjectApi","path":"CreateProjectStack/CreateProjectApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"create-project-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"CreateProjectStack/CreateProjectApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["CreateProjectApiCloudWatchRoleCF5C25E9","Arn"]}}}},"Deployment":{"id":"Deployment","path":"CreateProjectStack/CreateProjectApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"CreateProjectStack/CreateProjectApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"CreateProjectApiDeployment97BD92522d7bb0e58363bf3ecc0a61566be309bb"},"restApiId":{"Ref":"CreateProjectApi5DF64835"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"CreateProjectStack/CreateProjectApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"CreateProjectStack/CreateProjectApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"create-project":{"id":"create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"pathPart":"create-project","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/create-project/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApicreateproject3FEDB622"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"POST":{"id":"POST","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/POST/create-project"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/POST/create-project"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"409"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"409"},{"statusCode":"500"}],"resourceId":{"Ref":"CreateProjectApicreateproject3FEDB622"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}},"generate-website":{"id":"generate-website","path":"CreateProjectStack/CreateProjectApi/Default/generate-website","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"pathPart":"generate-website","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApigeneratewebsite561A0180"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"POST":{"id":"POST","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/POST/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GenerateWebsiteFunctionE00554AA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/POST/generate-website"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/POST/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GenerateWebsiteFunctionE00554AA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/POST/generate-website"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GenerateWebsiteFunctionE00554AA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}],"resourceId":{"Ref":"CreateProjectApigeneratewebsite561A0180"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}},"contact":{"id":"contact","path":"CreateProjectStack/CreateProjectApi/Default/contact","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/contact/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"pathPart":"contact","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/contact/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/contact/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApicontact0AD3ECB3"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"POST":{"id":"POST","path":"CreateProjectStack/CreateProjectApi/Default/contact/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..contact":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..contact","path":"CreateProjectStack/CreateProjectApi/Default/contact/POST/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..contact","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ContactFormFunction3D969332","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/POST/contact"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..contact":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..contact","path":"CreateProjectStack/CreateProjectApi/Default/contact/POST/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..contact","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ContactFormFunction3D969332","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/POST/contact"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/contact/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ContactFormFunction3D969332","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"404"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"404"},{"statusCode":"500"}],"resourceId":{"Ref":"CreateProjectApicontact0AD3ECB3"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}},"projects":{"id":"projects","path":"CreateProjectStack/CreateProjectApi/Default/projects","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/projects/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"pathPart":"projects","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/projects/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/projects/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApiprojects8819BA68"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"GET":{"id":"GET","path":"CreateProjectStack/CreateProjectApi/Default/projects/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.GET..projects":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.GET..projects","path":"CreateProjectStack/CreateProjectApi/Default/projects/GET/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.GET..projects","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetProjectsFunctionE760ED82","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/GET/projects"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.GET..projects":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.GET..projects","path":"CreateProjectStack/CreateProjectApi/Default/projects/GET/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.GET..projects","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetProjectsFunctionE760ED82","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/GET/projects"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/projects/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetProjectsFunctionE760ED82","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CreateProjectApiprojects8819BA68"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"{id}":{"id":"{id}","path":"CreateProjectStack/CreateProjectApi/Default/projects/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/projects/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CreateProjectApiprojects8819BA68"},"pathPart":"{id}","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/projects/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/projects/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApiprojectsidB64EFCB5"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"DELETE":{"id":"DELETE","path":"CreateProjectStack/CreateProjectApi/Default/projects/{id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.DELETE..projects.{id}":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.DELETE..projects.{id}","path":"CreateProjectStack/CreateProjectApi/Default/projects/{id}/DELETE/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.DELETE..projects.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DeleteProjectFunction3D919FC3","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/DELETE/projects/*"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.DELETE..projects.{id}":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.DELETE..projects.{id}","path":"CreateProjectStack/CreateProjectApi/Default/projects/{id}/DELETE/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.DELETE..projects.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DeleteProjectFunction3D919FC3","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/DELETE/projects/*"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/projects/{id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["DeleteProjectFunction3D919FC3","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CreateProjectApiprojectsidB64EFCB5"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}}}},"auth":{"id":"auth","path":"CreateProjectStack/CreateProjectApi/Default/auth","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/auth/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"pathPart":"auth","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/auth/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/auth/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApiauthA41C7874"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"send-code":{"id":"send-code","path":"CreateProjectStack/CreateProjectApi/Default/auth/send-code","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/auth/send-code/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CreateProjectApiauthA41C7874"},"pathPart":"send-code","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/auth/send-code/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/auth/send-code/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApiauthsendcodeEF4B9524"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"POST":{"id":"POST","path":"CreateProjectStack/CreateProjectApi/Default/auth/send-code/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.send-code":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.send-code","path":"CreateProjectStack/CreateProjectApi/Default/auth/send-code/POST/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.send-code","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SendConfirmationCodeFunction7207C45A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/POST/auth/send-code"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.send-code":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.send-code","path":"CreateProjectStack/CreateProjectApi/Default/auth/send-code/POST/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.send-code","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SendConfirmationCodeFunction7207C45A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/POST/auth/send-code"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/auth/send-code/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SendConfirmationCodeFunction7207C45A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CreateProjectApiauthsendcodeEF4B9524"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}},"validate-code":{"id":"validate-code","path":"CreateProjectStack/CreateProjectApi/Default/auth/validate-code","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/auth/validate-code/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CreateProjectApiauthA41C7874"},"pathPart":"validate-code","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/auth/validate-code/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/auth/validate-code/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApiauthvalidatecodeDA572EFE"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"POST":{"id":"POST","path":"CreateProjectStack/CreateProjectApi/Default/auth/validate-code/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.validate-code":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.validate-code","path":"CreateProjectStack/CreateProjectApi/Default/auth/validate-code/POST/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.validate-code","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ValidateConfirmationCodeFunction0039D52E","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/POST/auth/validate-code"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.validate-code":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.validate-code","path":"CreateProjectStack/CreateProjectApi/Default/auth/validate-code/POST/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..auth.validate-code","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ValidateConfirmationCodeFunction0039D52E","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/POST/auth/validate-code"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/auth/validate-code/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ValidateConfirmationCodeFunction0039D52E","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CreateProjectApiauthvalidatecodeDA572EFE"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}}}}}}}},"ApiDomain":{"id":"ApiDomain","path":"CreateProjectStack/ApiDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.DomainName","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ApiDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDomainName","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::DomainName","aws:cdk:cloudformation:props":{"certificateArn":{"Fn::GetAtt":["ApiCertificateCertificateRequestorResource57CB3F69","Arn"]},"domainName":"api.e-info.click","endpointConfiguration":{"types":["EDGE"]}}}}}},"ApiMapping":{"id":"ApiMapping","path":"CreateProjectStack/ApiMapping","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.BasePathMapping","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ApiMapping/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnBasePathMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::BasePathMapping","aws:cdk:cloudformation:props":{"domainName":{"Ref":"ApiDomain2D27DFFC"},"restApiId":{"Ref":"CreateProjectApi5DF64835"},"stage":{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"}}}}}},"ApiAliasRecord":{"id":"ApiAliasRecord","path":"CreateProjectStack/ApiAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ApiAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"dnsName":{"Fn::GetAtt":["ApiDomain2D27DFFC","DistributionDomainName"]},"hostedZoneId":{"Fn::GetAtt":["ApiDomain2D27DFFC","DistributionHostedZoneId"]}},"hostedZoneId":"DUMMY","name":"api.e-info.click.","type":"A"}}}}},"ContactFormFunction":{"id":"ContactFormFunction","path":"CreateProjectStack/ContactFormFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/ContactFormFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/ContactFormFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/ContactFormFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/ContactFormFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ContactFormFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-*"]]}]},{"Action":"ses:SendEmail","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ContactFormFunctionServiceRoleDefaultPolicy1F9C7460","roles":[{"Ref":"ContactFormFunctionServiceRole567E8CEC"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/ContactFormFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/ContactFormFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/ContactFormFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/ContactFormFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"89467a931c18d231c8b6e479059eab35bb985c47911758e606b962323679b5ff.zip"},"description":"Handles contact form submissions from generated websites","environment":{"variables":{"GITHUB_TOKEN_SECRET_NAME":"github-token","GITHUB_CONFIG_SECRET_NAME":"github-config","FROM_EMAIL":"noreply@e-info.click","AWS_SES_REGION":"us-east-1"}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["ContactFormFunctionServiceRole567E8CEC","Arn"]},"runtime":"nodejs18.x","timeout":15}}},"LogRetention":{"id":"LogRetention","path":"CreateProjectStack/ContactFormFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ContactFormFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"ContactFormFunction-LogGroup":{"id":"ContactFormFunction-LogGroup","path":"CreateProjectStack/ContactFormFunction/ContactFormFunction-LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"ContactFormLogRetention":{"id":"ContactFormLogRetention","path":"CreateProjectStack/ContactFormLogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ContactFormLogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"ProjectManagementLogs":{"id":"ProjectManagementLogs","path":"CreateProjectStack/ProjectManagementLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ProjectManagementLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/project-management","retentionInDays":14}}}}},"GetProjectsFunction":{"id":"GetProjectsFunction","path":"CreateProjectStack/GetProjectsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/GetProjectsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/GetProjectsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/GetProjectsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/GetProjectsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/GetProjectsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"GetProjectsFunctionServiceRoleDefaultPolicyE12EEAFF","roles":[{"Ref":"GetProjectsFunctionServiceRole493246D8"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/GetProjectsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/GetProjectsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/GetProjectsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/GetProjectsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"2b6b954d517f2df874c905dd866b32292ec67616f798d4ec8979e13648286980.zip"},"environment":{"variables":{"DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"SENTRY_DSN":""}},"functionName":"get-projects","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ProjectManagementLogs17DD6D23"}},"memorySize":256,"role":{"Fn::GetAtt":["GetProjectsFunctionServiceRole493246D8","Arn"]},"runtime":"nodejs20.x","timeout":10}}}}},"DeleteProjectFunction":{"id":"DeleteProjectFunction","path":"CreateProjectStack/DeleteProjectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/DeleteProjectFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/DeleteProjectFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/DeleteProjectFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/DeleteProjectFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/DeleteProjectFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"DeleteProjectFunctionServiceRoleDefaultPolicy4981D690","roles":[{"Ref":"DeleteProjectFunctionServiceRoleF165E20D"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/DeleteProjectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/DeleteProjectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/DeleteProjectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/DeleteProjectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"85bddecaeeee6eb9a02850d10d1bfb1f05caf8eb4f86578c9ec905b2bc2e00b4.zip"},"environment":{"variables":{"DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"SENTRY_DSN":""}},"functionName":"delete-project","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ProjectManagementLogs17DD6D23"}},"memorySize":256,"role":{"Fn::GetAtt":["DeleteProjectFunctionServiceRoleF165E20D","Arn"]},"runtime":"nodejs20.x","timeout":10}}}}},"SendConfirmationCodeFunction":{"id":"SendConfirmationCodeFunction","path":"CreateProjectStack/SendConfirmationCodeFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/SendConfirmationCodeFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/SendConfirmationCodeFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/SendConfirmationCodeFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/SendConfirmationCodeFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/SendConfirmationCodeFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttConfirmationCodes0D89FD22ArnFE017ADF"},{"Ref":"AWS::NoValue"}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::ImportValue":"EmailTemplateStack:ExportsOutputFnGetAttSendEmailFunction93B2B000Arn3EF99FAC"},{"Fn::Join":["",[{"Fn::ImportValue":"EmailTemplateStack:ExportsOutputFnGetAttSendEmailFunction93B2B000Arn3EF99FAC"},":*"]]}]}],"Version":"2012-10-17"},"policyName":"SendConfirmationCodeFunctionServiceRoleDefaultPolicy534339ED","roles":[{"Ref":"SendConfirmationCodeFunctionServiceRole6944836C"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/SendConfirmationCodeFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/SendConfirmationCodeFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/SendConfirmationCodeFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/SendConfirmationCodeFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"90399ecbd5e6306f08e45c28c39201d4a26ade0a056aab84936c7b3f0cbcaa06.zip"},"environment":{"variables":{"DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"DYNAMODB_CODES_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefConfirmationCodes0D89FD222FEC267F"},"SEND_EMAIL_FUNCTION":{"Fn::ImportValue":"EmailTemplateStack:ExportsOutputRefSendEmailFunction93B2B000A3FF70C7"},"SENTRY_DSN":""}},"functionName":"send-confirmation-code","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ProjectManagementLogs17DD6D23"}},"memorySize":256,"role":{"Fn::GetAtt":["SendConfirmationCodeFunctionServiceRole6944836C","Arn"]},"runtime":"nodejs20.x","timeout":10}}}}},"ValidateConfirmationCodeFunction":{"id":"ValidateConfirmationCodeFunction","path":"CreateProjectStack/ValidateConfirmationCodeFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/ValidateConfirmationCodeFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/ValidateConfirmationCodeFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/ValidateConfirmationCodeFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/ValidateConfirmationCodeFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ValidateConfirmationCodeFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttConfirmationCodes0D89FD22ArnFE017ADF"},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["GenerateWebsiteFunctionE00554AA","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["GenerateWebsiteFunctionE00554AA","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"ValidateConfirmationCodeFunctionServiceRoleDefaultPolicyAE6D94B2","roles":[{"Ref":"ValidateConfirmationCodeFunctionServiceRoleE3DF2C92"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/ValidateConfirmationCodeFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/ValidateConfirmationCodeFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/ValidateConfirmationCodeFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/ValidateConfirmationCodeFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"654e4e6f6ed28b4f4e55e399dcbe47e63d5d169211fb2be43a83eb3039f21a18.zip"},"environment":{"variables":{"DYNAMODB_CODES_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefConfirmationCodes0D89FD222FEC267F"},"DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"GENERATE_WEBSITE_FUNCTION":{"Ref":"GenerateWebsiteFunctionE00554AA"},"SENTRY_DSN":""}},"functionName":"validate-confirmation-code","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ProjectManagementLogs17DD6D23"}},"memorySize":256,"role":{"Fn::GetAtt":["ValidateConfirmationCodeFunctionServiceRoleE3DF2C92","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"ApiUrl":{"id":"ApiUrl","path":"CreateProjectStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ApiCustomUrl":{"id":"ApiCustomUrl","path":"CreateProjectStack/ApiCustomUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"GenerateWebsiteUrl":{"id":"GenerateWebsiteUrl","path":"CreateProjectStack/GenerateWebsiteUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ContactFormUrl":{"id":"ContactFormUrl","path":"CreateProjectStack/ContactFormUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"CreateProjectStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"CreateProjectStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"Exports":{"id":"Exports","path":"CreateProjectStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"GenerateWebsiteFunctionE00554AA\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GenerateWebsiteFunctionE00554AA\",\"Arn\"]}","path":"CreateProjectStack/Exports/Output{\"Fn::GetAtt\":[\"GenerateWebsiteFunctionE00554AA\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Ref\":\"GenerateWebsiteFunctionE00554AA\"}":{"id":"Output{\"Ref\":\"GenerateWebsiteFunctionE00554AA\"}","path":"CreateProjectStack/Exports/Output{\"Ref\":\"GenerateWebsiteFunctionE00554AA\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CreateProjectStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CreateProjectStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"QueueStack":{"id":"QueueStack","path":"QueueStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"WebsiteGenerationDLQ":{"id":"WebsiteGenerationDLQ","path":"QueueStack/WebsiteGenerationDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"QueueStack/WebsiteGenerationDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"website-generation-dlq","visibilityTimeout":60}}}}},"WebsiteGenerationQueue":{"id":"WebsiteGenerationQueue","path":"QueueStack/WebsiteGenerationQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"QueueStack/WebsiteGenerationQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":345600,"queueName":"website-generation-queue","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["WebsiteGenerationDLQ2F773C26","Arn"]},"maxReceiveCount":3},"visibilityTimeout":300}}}}},"DLQDepthAlarm":{"id":"DLQDepthAlarm","path":"QueueStack/DLQDepthAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"QueueStack/DLQDepthAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Messages in DLQ indicate failed website generation","alarmName":"WebsiteGenerationDLQNotEmpty","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["WebsiteGenerationDLQ2F773C26","QueueName"]}}],"evaluationPeriods":1,"metricName":"ApproximateNumberOfMessagesVisible","namespace":"AWS/SQS","period":300,"statistic":"Maximum","threshold":1}}}}},"QueueDepthAlarm":{"id":"QueueDepthAlarm","path":"QueueStack/QueueDepthAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"QueueStack/QueueDepthAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Website generation queue is backing up","alarmName":"WebsiteGenerationQueueBacklog","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["WebsiteGenerationQueueFD68F17D","QueueName"]}}],"evaluationPeriods":2,"metricName":"ApproximateNumberOfMessagesVisible","namespace":"AWS/SQS","period":300,"statistic":"Maximum","threshold":100}}}}},"OldestMessageAgeAlarm":{"id":"OldestMessageAgeAlarm","path":"QueueStack/OldestMessageAgeAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"QueueStack/OldestMessageAgeAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Message stuck in queue (not being processed)","alarmName":"WebsiteGenerationQueueStuck","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["WebsiteGenerationQueueFD68F17D","QueueName"]}}],"evaluationPeriods":1,"metricName":"ApproximateAgeOfOldestMessage","namespace":"AWS/SQS","period":300,"statistic":"Maximum","threshold":900}}}}},"QueueUrl":{"id":"QueueUrl","path":"QueueStack/QueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"QueueArn":{"id":"QueueArn","path":"QueueStack/QueueArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DLQUrl":{"id":"DLQUrl","path":"QueueStack/DLQUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"QueueStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"QueueStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"Exports":{"id":"Exports","path":"QueueStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"WebsiteGenerationQueueFD68F17D\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"WebsiteGenerationQueueFD68F17D\",\"Arn\"]}","path":"QueueStack/Exports/Output{\"Fn::GetAtt\":[\"WebsiteGenerationQueueFD68F17D\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Fn::GetAtt\":[\"WebsiteGenerationDLQ2F773C26\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"WebsiteGenerationDLQ2F773C26\",\"Arn\"]}","path":"QueueStack/Exports/Output{\"Fn::GetAtt\":[\"WebsiteGenerationDLQ2F773C26\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Ref\":\"WebsiteGenerationQueueFD68F17D\"}":{"id":"Output{\"Ref\":\"WebsiteGenerationQueueFD68F17D\"}","path":"QueueStack/Exports/Output{\"Ref\":\"WebsiteGenerationQueueFD68F17D\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Fn::GetAtt\":[\"WebsiteGenerationQueueFD68F17D\",\"QueueName\"]}":{"id":"Output{\"Fn::GetAtt\":[\"WebsiteGenerationQueueFD68F17D\",\"QueueName\"]}","path":"QueueStack/Exports/Output{\"Fn::GetAtt\":[\"WebsiteGenerationQueueFD68F17D\",\"QueueName\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"QueueStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"QueueStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"StepFunctionsStack":{"id":"StepFunctionsStack","path":"StepFunctionsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"GetMetadataFromDynamoDB":{"id":"GetMetadataFromDynamoDB","path":"StepFunctionsStack/GetMetadataFromDynamoDB","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.DynamoGetItem","version":"2.211.0"}},"ValidateMetadata":{"id":"ValidateMetadata","path":"StepFunctionsStack/ValidateMetadata","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.211.0"}},"InvokeGenerateWebsite":{"id":"InvokeGenerateWebsite","path":"StepFunctionsStack/InvokeGenerateWebsite","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.211.0"}},"UpdateCompletedStatus":{"id":"UpdateCompletedStatus","path":"StepFunctionsStack/UpdateCompletedStatus","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.DynamoUpdateItem","version":"2.211.0"}},"UpdateFailedStatus":{"id":"UpdateFailedStatus","path":"StepFunctionsStack/UpdateFailedStatus","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.DynamoUpdateItem","version":"2.211.0"}},"Failure":{"id":"Failure","path":"StepFunctionsStack/Failure","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.211.0"}},"Success":{"id":"Success","path":"StepFunctionsStack/Success","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.211.0"}},"StateMachineLogGroup":{"id":"StateMachineLogGroup","path":"StepFunctionsStack/StateMachineLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StepFunctionsStack/StateMachineLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/stepfunctions/website-generation","retentionInDays":7}}}}},"WebsiteGenerationStateMachine":{"id":"WebsiteGenerationStateMachine","path":"StepFunctionsStack/WebsiteGenerationStateMachine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.211.0","metadata":[]},"children":{"Role":{"id":"Role","path":"StepFunctionsStack/WebsiteGenerationStateMachine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"StepFunctionsStack/WebsiteGenerationStateMachine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StepFunctionsStack/WebsiteGenerationStateMachine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StepFunctionsStack/WebsiteGenerationStateMachine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StepFunctionsStack/WebsiteGenerationStateMachine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"dynamodb:GetItem","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:eu-south-2:941058531133:table/",{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"}]]}},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::ImportValue":"CreateProjectStack:ExportsOutputFnGetAttGenerateWebsiteFunctionE00554AAArn7C5CC3AC"},{"Fn::Join":["",[{"Fn::ImportValue":"CreateProjectStack:ExportsOutputFnGetAttGenerateWebsiteFunctionE00554AAArn7C5CC3AC"},":*"]]}]},{"Action":"dynamodb:UpdateItem","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:eu-south-2:941058531133:table/",{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"}]]}},{"Action":["logs:CreateLogDelivery","logs:GetLogDelivery","logs:UpdateLogDelivery","logs:DeleteLogDelivery","logs:ListLogDeliveries","logs:PutResourcePolicy","logs:DescribeResourcePolicies","logs:DescribeLogGroups"],"Effect":"Allow","Resource":"*"},{"Action":["xray:PutTraceSegments","xray:PutTelemetryRecords","xray:GetSamplingRules","xray:GetSamplingTargets"],"Effect":"Allow","Resource":"*"},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"WebsiteGenerationStateMachineRoleDefaultPolicy28E6E670","roles":[{"Ref":"WebsiteGenerationStateMachineRole44557F4B"}]}}}}}}},"Resource":{"id":"Resource","path":"StepFunctionsStack/WebsiteGenerationStateMachine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"GetMetadataFromDynamoDB\",\"States\":{\"GetMetadataFromDynamoDB\":{\"Next\":\"ValidateMetadata\",\"Type\":\"Task\",\"ResultPath\":\"$.metadata\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::dynamodb:getItem\",\"Parameters\":{\"Key\":{\"operationId\":{\"S.$\":\"$.operationId\"}},\"TableName\":\"",{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"\",\"ConsistentRead\":false}},\"ValidateMetadata\":{\"Type\":\"Pass\",\"Result\":{\"success\":true,\"message\":\"Metadata validation passed\"},\"ResultPath\":\"$.validation\",\"Next\":\"InvokeGenerateWebsite\"},\"InvokeGenerateWebsite\":{\"Next\":\"UpdateCompletedStatus\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2},{\"ErrorEquals\":[\"States.TaskFailed\",\"States.Timeout\"],\"IntervalSeconds\":2,\"MaxAttempts\":3,\"BackoffRate\":2}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.error\",\"Next\":\"UpdateFailedStatus\"}],\"Type\":\"Task\",\"ResultPath\":\"$.generationResult\",\"ResultSelector\":{\"statusCode.$\":\"$.statusCode\",\"body.$\":\"$.body\"},\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::ImportValue":"CreateProjectStack:ExportsOutputFnGetAttGenerateWebsiteFunctionE00554AAArn7C5CC3AC"},"\",\"Payload.$\":\"$\"}},\"UpdateCompletedStatus\":{\"Next\":\"Success\",\"Type\":\"Task\",\"ResultPath\":null,\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::dynamodb:updateItem\",\"Parameters\":{\"Key\":{\"operationId\":{\"S.$\":\"$.operationId\"}},\"TableName\":\"",{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"\",\"ExpressionAttributeNames\":{\"#status\":\"status\",\"#completedAt\":\"completedAt\"},\"ExpressionAttributeValues\":{\":status\":{\"S\":\"completed\"},\":completedAt\":{\"S\":\"2026-01-26T20:10:22.452Z\"}},\"UpdateExpression\":\"SET #status = :status, #completedAt = :completedAt\"}},\"Success\":{\"Type\":\"Pass\",\"Result\":{\"statusCode\":200,\"message\":\"Website generation completed successfully\"},\"End\":true},\"UpdateFailedStatus\":{\"Next\":\"Failure\",\"Type\":\"Task\",\"ResultPath\":null,\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::dynamodb:updateItem\",\"Parameters\":{\"Key\":{\"operationId\":{\"S.$\":\"$.operationId\"}},\"TableName\":\"",{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"\",\"ExpressionAttributeNames\":{\"#status\":\"status\",\"#failureReason\":\"failureReason\"},\"ExpressionAttributeValues\":{\":status\":{\"S\":\"failed\"},\":failureReason\":{\"S.$\":\"$.error\"}},\"UpdateExpression\":\"SET #status = :status, #failureReason = :failureReason\"}},\"Failure\":{\"Type\":\"Pass\",\"Result\":{\"statusCode\":500,\"message\":\"Website generation failed\"},\"ResultPath\":\"$.result\",\"End\":true}},\"TimeoutSeconds\":600}"]]},"loggingConfiguration":{"destinations":[{"cloudWatchLogsLogGroup":{"logGroupArn":{"Fn::GetAtt":["StateMachineLogGroup15B91BCB","Arn"]}}}],"level":"ALL"},"roleArn":{"Fn::GetAtt":["WebsiteGenerationStateMachineRole44557F4B","Arn"]},"tracingConfiguration":{"enabled":true}}}}}},"StateMachineArn":{"id":"StateMachineArn","path":"StepFunctionsStack/StateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"StepFunctionsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"StepFunctionsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StepFunctionsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StepFunctionsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"StripeCheckoutStack":{"id":"StripeCheckoutStack","path":"StripeCheckoutStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"StripeHostedZone":{"id":"StripeHostedZone","path":"StripeCheckoutStack/StripeHostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"StripeApiCertificate":{"id":"StripeApiCertificate","path":"StripeCheckoutStack/StripeApiCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.DnsValidatedCertificate","version":"2.211.0","metadata":[]},"children":{"CertificateRequestorFunction":{"id":"CertificateRequestorFunction","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["acm:RequestCertificate","acm:DescribeCertificate","acm:DeleteCertificate","acm:AddTagsToCertificate"],"Effect":"Allow","Resource":"*"},{"Action":"route53:GetChange","Effect":"Allow","Resource":"*"},{"Action":"route53:changeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["CNAME"],"route53:ChangeResourceRecordSetsActions":["UPSERT"]},"ForAllValues:StringLike":{"route53:ChangeResourceRecordSetsNormalizedRecordNames":["*.pay.e-info.click"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/DUMMY"]]}}],"Version":"2012-10-17"},"policyName":"StripeApiCertificateCertificateRequestorFunctionServiceRoleDefaultPolicy50B1C827","roles":[{"Ref":"StripeApiCertificateCertificateRequestorFunctionServiceRole97B9EE05"}]}}}}}}},"Code":{"id":"Code","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"b073cebcf4d61fb152a30f5a5e57a94df7f980a549fdf1a79a0b18c5750522d8.zip"},"handler":"index.certificateRequestHandler","role":{"Fn::GetAtt":["StripeApiCertificateCertificateRequestorFunctionServiceRole97B9EE05","Arn"]},"runtime":"nodejs22.x","timeout":900}}}}},"CertificateRequestorResource":{"id":"CertificateRequestorResource","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"StripeCheckoutFunction":{"id":"StripeCheckoutFunction","path":"StripeCheckoutStack/StripeCheckoutFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::ImportValue":"EmailTemplateStack:ExportsOutputFnGetAttSendEmailFunction93B2B000Arn3EF99FAC"},{"Fn::Join":["",[{"Fn::ImportValue":"EmailTemplateStack:ExportsOutputFnGetAttSendEmailFunction93B2B000Arn3EF99FAC"},":*"]]}]},{"Action":["s3:ListBucket","s3:GetObject"],"Effect":"Allow","Resource":["arn:aws:s3:::teamsantos-static-websites","arn:aws:s3:::teamsantos-static-websites/*"]},{"Action":["s3:GetObject","s3:PutObject"],"Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites/metadata.json"},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"StripeCheckoutFunctionServiceRoleDefaultPolicy37F3B9E1","roles":[{"Ref":"StripeCheckoutFunctionServiceRole1C859D01"}]}}}}}}},"Code":{"id":"Code","path":"StripeCheckoutStack/StripeCheckoutFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"StripeCheckoutStack/StripeCheckoutFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"StripeCheckoutStack/StripeCheckoutFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeCheckoutFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"6b70c6cc8edbd8314f07087a94002cbd1841d30d473e9149b15e9cb1987a67de.zip"},"environment":{"variables":{"STRIPE_SECRET_KEY":"","FRONTEND_URL":"","S3_BUCKET_NAME":"teamsantos-static-websites","DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"SEND_EMAIL_FUNCTION":{"Fn::ImportValue":"EmailTemplateStack:ExportsOutputRefSendEmailFunction93B2B000A3FF70C7"}}},"handler":"index.handler","role":{"Fn::GetAtt":["StripeCheckoutFunctionServiceRole1C859D01","Arn"]},"runtime":"nodejs18.x","timeout":30}}},"LogRetention":{"id":"LogRetention","path":"StripeCheckoutStack/StripeCheckoutFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeCheckoutFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"StripeCheckoutFunction-LogGroup":{"id":"StripeCheckoutFunction-LogGroup","path":"StripeCheckoutStack/StripeCheckoutFunction/StripeCheckoutFunction-LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"StripeWebhookFunction":{"id":"StripeWebhookFunction","path":"StripeCheckoutStack/StripeWebhookFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"StripeCheckoutStack/StripeWebhookFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"StripeCheckoutStack/StripeWebhookFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeWebhookFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StripeCheckoutStack/StripeWebhookFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeWebhookFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3:ListBucket","Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites"},{"Action":["s3:GetObject","s3:PutObject"],"Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites/metadata.json"},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]},{"Action":"sqs:SendMessage","Effect":"Allow","Resource":{"Fn::ImportValue":"QueueStack:ExportsOutputFnGetAttWebsiteGenerationQueueFD68F17DArnF4164C2E"}}],"Version":"2012-10-17"},"policyName":"StripeWebhookFunctionServiceRoleDefaultPolicy3D21FCD4","roles":[{"Ref":"StripeWebhookFunctionServiceRole35F96D1C"}]}}}}}}},"Code":{"id":"Code","path":"StripeCheckoutStack/StripeWebhookFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"StripeCheckoutStack/StripeWebhookFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"StripeCheckoutStack/StripeWebhookFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeWebhookFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"537d496f0401ff2e7a23ad2e90c3e7186597011217ed271229e56b848fcbc238.zip"},"environment":{"variables":{"STRIPE_SECRET_KEY":"","STRIPE_WEBHOOK_SECRET":"","S3_BUCKET_NAME":"teamsantos-static-websites","DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"SQS_QUEUE_URL":{"Fn::ImportValue":"QueueStack:ExportsOutputRefWebsiteGenerationQueueFD68F17D7D456962"}}},"handler":"index.handler","role":{"Fn::GetAtt":["StripeWebhookFunctionServiceRole35F96D1C","Arn"]},"runtime":"nodejs18.x","timeout":30}}},"LogRetention":{"id":"LogRetention","path":"StripeCheckoutStack/StripeWebhookFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeWebhookFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"StripeWebhookFunction-LogGroup":{"id":"StripeWebhookFunction-LogGroup","path":"StripeCheckoutStack/StripeWebhookFunction/StripeWebhookFunction-LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"StripeCheckoutLogRetention":{"id":"StripeCheckoutLogRetention","path":"StripeCheckoutStack/StripeCheckoutLogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeCheckoutLogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"StripeWebhookLogRetention":{"id":"StripeWebhookLogRetention","path":"StripeCheckoutStack/StripeWebhookLogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeWebhookLogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"StripeApi":{"id":"StripeApi","path":"StripeCheckoutStack/StripeApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"stripe-checkout-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"StripeCheckoutStack/StripeApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"StripeCheckoutStack/StripeApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"StripeCheckoutStack/StripeApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["StripeApiCloudWatchRoleB1B8F809","Arn"]}}}},"Deployment":{"id":"Deployment","path":"StripeCheckoutStack/StripeApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"StripeApi418791B2"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"StripeCheckoutStack/StripeApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"StripeApiDeployment43FB4EE180c60ed3ce81f1a4c59770ee67a77cc3"},"restApiId":{"Ref":"StripeApi418791B2"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"StripeCheckoutStack/StripeApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"StripeCheckoutStack/StripeApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"StripeCheckoutStack/StripeApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["StripeApi418791B2","RootResourceId"]},"restApiId":{"Ref":"StripeApi418791B2"}}}}}},"checkout-session":{"id":"checkout-session","path":"StripeCheckoutStack/StripeApi/Default/checkout-session","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["StripeApi418791B2","RootResourceId"]},"pathPart":"checkout-session","restApiId":{"Ref":"StripeApi418791B2"}}}},"OPTIONS":{"id":"OPTIONS","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"StripeApicheckoutsessionD8FBA017"},"restApiId":{"Ref":"StripeApi418791B2"}}}}}},"POST":{"id":"POST","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session":{"id":"ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/POST/ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StripeCheckoutFunctionFAA66D03","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"StripeApi418791B2"},"/",{"Ref":"StripeApiDeploymentStageprod0B2C37C0"},"/POST/checkout-session"]]}}}},"ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session":{"id":"ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/POST/ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StripeCheckoutFunctionFAA66D03","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"StripeApi418791B2"},"/test-invoke-stage/POST/checkout-session"]]}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["StripeCheckoutFunctionFAA66D03","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}],"resourceId":{"Ref":"StripeApicheckoutsessionD8FBA017"},"restApiId":{"Ref":"StripeApi418791B2"}}}}}}}},"webhook":{"id":"webhook","path":"StripeCheckoutStack/StripeApi/Default/webhook","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/webhook/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["StripeApi418791B2","RootResourceId"]},"pathPart":"webhook","restApiId":{"Ref":"StripeApi418791B2"}}}},"OPTIONS":{"id":"OPTIONS","path":"StripeCheckoutStack/StripeApi/Default/webhook/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/webhook/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"StripeApiwebhookA9B1326D"},"restApiId":{"Ref":"StripeApi418791B2"}}}}}},"POST":{"id":"POST","path":"StripeCheckoutStack/StripeApi/Default/webhook/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..webhook":{"id":"ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..webhook","path":"StripeCheckoutStack/StripeApi/Default/webhook/POST/ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..webhook","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StripeWebhookFunction73CC65ED","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"StripeApi418791B2"},"/",{"Ref":"StripeApiDeploymentStageprod0B2C37C0"},"/POST/webhook"]]}}}},"ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..webhook":{"id":"ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..webhook","path":"StripeCheckoutStack/StripeApi/Default/webhook/POST/ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..webhook","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StripeWebhookFunction73CC65ED","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"StripeApi418791B2"},"/test-invoke-stage/POST/webhook"]]}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/webhook/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["StripeWebhookFunction73CC65ED","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"500"}],"resourceId":{"Ref":"StripeApiwebhookA9B1326D"},"restApiId":{"Ref":"StripeApi418791B2"}}}}}}}}}}}},"StripeApiDomain":{"id":"StripeApiDomain","path":"StripeCheckoutStack/StripeApiDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.DomainName","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDomainName","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::DomainName","aws:cdk:cloudformation:props":{"certificateArn":{"Fn::GetAtt":["StripeApiCertificateCertificateRequestorResource7C73B20E","Arn"]},"domainName":"pay.e-info.click","endpointConfiguration":{"types":["EDGE"]}}}}}},"StripeApiMapping":{"id":"StripeApiMapping","path":"StripeCheckoutStack/StripeApiMapping","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.BasePathMapping","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiMapping/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnBasePathMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::BasePathMapping","aws:cdk:cloudformation:props":{"domainName":{"Ref":"StripeApiDomain4A55A6AD"},"restApiId":{"Ref":"StripeApi418791B2"},"stage":{"Ref":"StripeApiDeploymentStageprod0B2C37C0"}}}}}},"StripeApiAliasRecord":{"id":"StripeApiAliasRecord","path":"StripeCheckoutStack/StripeApiAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"dnsName":{"Fn::GetAtt":["StripeApiDomain4A55A6AD","DistributionDomainName"]},"hostedZoneId":{"Fn::GetAtt":["StripeApiDomain4A55A6AD","DistributionHostedZoneId"]}},"hostedZoneId":"DUMMY","name":"pay.e-info.click.","type":"A"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"StripeCheckoutStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"StripeCheckoutStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"Exports":{"id":"Exports","path":"StripeCheckoutStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"StripeCheckoutFunctionFAA66D03\"}":{"id":"Output{\"Ref\":\"StripeCheckoutFunctionFAA66D03\"}","path":"StripeCheckoutStack/Exports/Output{\"Ref\":\"StripeCheckoutFunctionFAA66D03\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Output{\"Ref\":\"StripeWebhookFunction73CC65ED\"}":{"id":"Output{\"Ref\":\"StripeWebhookFunction73CC65ED\"}","path":"StripeCheckoutStack/Exports/Output{\"Ref\":\"StripeWebhookFunction73CC65ED\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StripeCheckoutStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StripeCheckoutStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"BudgetAlertStack":{"id":"BudgetAlertStack","path":"BudgetAlertStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"AdminAlerts":{"id":"AdminAlerts","path":"BudgetAlertStack/AdminAlerts","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BudgetAlertStack/AdminAlerts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"AWS Cost and Lambda Alerts","topicName":"admin-alerts"}}}}},"EstimatedChargesAlarm":{"id":"EstimatedChargesAlarm","path":"BudgetAlertStack/EstimatedChargesAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BudgetAlertStack/EstimatedChargesAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AdminAlerts685CDE10"}],"alarmDescription":"AWS daily estimated charges exceed $10","alarmName":"HighAWSSpend","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"Currency","value":"USD"}],"evaluationPeriods":1,"metricName":"EstimatedCharges","namespace":"AWS/Billing","period":300,"statistic":"Maximum","threshold":10}}}}},"HighLambdaErrorRateAlarm":{"id":"HighLambdaErrorRateAlarm","path":"BudgetAlertStack/HighLambdaErrorRateAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BudgetAlertStack/HighLambdaErrorRateAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AdminAlerts685CDE10"}],"alarmDescription":"Lambda error rate is high (>10 errors per 5 minutes)","alarmName":"HighLambdaErrorRate","comparisonOperator":"GreaterThanOrEqualToThreshold","evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":10}}}}},"AdminAlertsTopic":{"id":"AdminAlertsTopic","path":"BudgetAlertStack/AdminAlertsTopic","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"AdminAlertsTopicArn":{"id":"AdminAlertsTopicArn","path":"BudgetAlertStack/AdminAlertsTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"BudgetAlertStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"BudgetAlertStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"BudgetAlertStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"BudgetAlertStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"GitHubWebhookStack":{"id":"GitHubWebhookStack","path":"GitHubWebhookStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"GitHubWebhookHostedZone":{"id":"GitHubWebhookHostedZone","path":"GitHubWebhookStack/GitHubWebhookHostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"GitHubWebhookCertificate":{"id":"GitHubWebhookCertificate","path":"GitHubWebhookStack/GitHubWebhookCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.DnsValidatedCertificate","version":"2.211.0","metadata":[]},"children":{"CertificateRequestorFunction":{"id":"CertificateRequestorFunction","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["acm:RequestCertificate","acm:DescribeCertificate","acm:DeleteCertificate","acm:AddTagsToCertificate"],"Effect":"Allow","Resource":"*"},{"Action":"route53:GetChange","Effect":"Allow","Resource":"*"},{"Action":"route53:changeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["CNAME"],"route53:ChangeResourceRecordSetsActions":["UPSERT"]},"ForAllValues:StringLike":{"route53:ChangeResourceRecordSetsNormalizedRecordNames":["*.webhooks.e-info.click"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/DUMMY"]]}}],"Version":"2012-10-17"},"policyName":"GitHubWebhookCertificateCertificateRequestorFunctionServiceRoleDefaultPolicy92CC96BB","roles":[{"Ref":"GitHubWebhookCertificateCertificateRequestorFunctionServiceRoleEA987AAE"}]}}}}}}},"Code":{"id":"Code","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"b073cebcf4d61fb152a30f5a5e57a94df7f980a549fdf1a79a0b18c5750522d8.zip"},"handler":"index.certificateRequestHandler","role":{"Fn::GetAtt":["GitHubWebhookCertificateCertificateRequestorFunctionServiceRoleEA987AAE","Arn"]},"runtime":"nodejs22.x","timeout":900}}}}},"CertificateRequestorResource":{"id":"CertificateRequestorResource","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"GitHubWebhookStack/GitHubWebhookCertificate/CertificateRequestorResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"GitHubWebhookFunction":{"id":"GitHubWebhookFunction","path":"GitHubWebhookStack/GitHubWebhookFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"GitHubWebhookStack/GitHubWebhookFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"GitHubWebhookStack/GitHubWebhookFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GitHubWebhookStack/GitHubWebhookFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},{"Fn::Join":["",[{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputFnGetAttWebsitesMetadata0BEFCF5AArn7E227ED0"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"GitHubWebhookFunctionServiceRoleDefaultPolicy4AC25033","roles":[{"Ref":"GitHubWebhookFunctionServiceRoleFB95AE13"}]}}}}}}},"Code":{"id":"Code","path":"GitHubWebhookStack/GitHubWebhookFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"GitHubWebhookStack/GitHubWebhookFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"GitHubWebhookStack/GitHubWebhookFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"3e955629d93e223d1bf75cec856283eb3d70eaf78fee2849e0cf6ab3b7fd4573.zip"},"environment":{"variables":{"DYNAMODB_METADATA_TABLE":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"GITHUB_WEBHOOK_SECRET":""}},"handler":"index.handler","role":{"Fn::GetAtt":["GitHubWebhookFunctionServiceRoleFB95AE13","Arn"]},"runtime":"nodejs18.x","timeout":30}}},"LogRetention":{"id":"LogRetention","path":"GitHubWebhookStack/GitHubWebhookFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"GitHubWebhookFunction-LogGroup":{"id":"GitHubWebhookFunction-LogGroup","path":"GitHubWebhookStack/GitHubWebhookFunction/GitHubWebhookFunction-LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"GitHubWebhookStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"GitHubWebhookLogRetention":{"id":"GitHubWebhookLogRetention","path":"GitHubWebhookStack/GitHubWebhookLogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookLogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"GitHubWebhookApi":{"id":"GitHubWebhookApi","path":"GitHubWebhookStack/GitHubWebhookApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"github-webhook-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"GitHubWebhookStack/GitHubWebhookApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"GitHubWebhookStack/GitHubWebhookApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"GitHubWebhookStack/GitHubWebhookApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["GitHubWebhookApiCloudWatchRole091D0A3F","Arn"]}}}},"Deployment":{"id":"Deployment","path":"GitHubWebhookStack/GitHubWebhookApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"GitHubWebhookApi2D780431"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"GitHubWebhookStack/GitHubWebhookApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"GitHubWebhookApiDeployment97C3ADAF8a3105286230a0bdcc9d33f293ccf142"},"restApiId":{"Ref":"GitHubWebhookApi2D780431"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"GitHubWebhookStack/GitHubWebhookApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"GitHubWebhookStack/GitHubWebhookApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"GitHubWebhookStack/GitHubWebhookApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Hub-Signature-256'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["GitHubWebhookApi2D780431","RootResourceId"]},"restApiId":{"Ref":"GitHubWebhookApi2D780431"}}}}}},"github":{"id":"github","path":"GitHubWebhookStack/GitHubWebhookApi/Default/github","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApi/Default/github/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["GitHubWebhookApi2D780431","RootResourceId"]},"pathPart":"github","restApiId":{"Ref":"GitHubWebhookApi2D780431"}}}},"OPTIONS":{"id":"OPTIONS","path":"GitHubWebhookStack/GitHubWebhookApi/Default/github/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApi/Default/github/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Hub-Signature-256'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"GitHubWebhookApigithub1394AF76"},"restApiId":{"Ref":"GitHubWebhookApi2D780431"}}}}}},"POST":{"id":"POST","path":"GitHubWebhookStack/GitHubWebhookApi/Default/github/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.GitHubWebhookStackGitHubWebhookApi2CED4F58.POST..github":{"id":"ApiPermission.GitHubWebhookStackGitHubWebhookApi2CED4F58.POST..github","path":"GitHubWebhookStack/GitHubWebhookApi/Default/github/POST/ApiPermission.GitHubWebhookStackGitHubWebhookApi2CED4F58.POST..github","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GitHubWebhookFunctionA7279CB5","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"GitHubWebhookApi2D780431"},"/",{"Ref":"GitHubWebhookApiDeploymentStageprod1284D6B8"},"/POST/github"]]}}}},"ApiPermission.Test.GitHubWebhookStackGitHubWebhookApi2CED4F58.POST..github":{"id":"ApiPermission.Test.GitHubWebhookStackGitHubWebhookApi2CED4F58.POST..github","path":"GitHubWebhookStack/GitHubWebhookApi/Default/github/POST/ApiPermission.Test.GitHubWebhookStackGitHubWebhookApi2CED4F58.POST..github","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GitHubWebhookFunctionA7279CB5","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"GitHubWebhookApi2D780431"},"/test-invoke-stage/POST/github"]]}}}},"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApi/Default/github/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GitHubWebhookFunctionA7279CB5","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}],"resourceId":{"Ref":"GitHubWebhookApigithub1394AF76"},"restApiId":{"Ref":"GitHubWebhookApi2D780431"}}}}}}}}}}}},"GitHubWebhookDomain":{"id":"GitHubWebhookDomain","path":"GitHubWebhookStack/GitHubWebhookDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.DomainName","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDomainName","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::DomainName","aws:cdk:cloudformation:props":{"certificateArn":{"Fn::GetAtt":["GitHubWebhookCertificateCertificateRequestorResource489870DF","Arn"]},"domainName":"webhooks.e-info.click","endpointConfiguration":{"types":["EDGE"]}}}}}},"GitHubWebhookApiMapping":{"id":"GitHubWebhookApiMapping","path":"GitHubWebhookStack/GitHubWebhookApiMapping","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.BasePathMapping","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookApiMapping/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnBasePathMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::BasePathMapping","aws:cdk:cloudformation:props":{"domainName":{"Ref":"GitHubWebhookDomain79D3B2DA"},"restApiId":{"Ref":"GitHubWebhookApi2D780431"},"stage":{"Ref":"GitHubWebhookApiDeploymentStageprod1284D6B8"}}}}}},"GitHubWebhookAliasRecord":{"id":"GitHubWebhookAliasRecord","path":"GitHubWebhookStack/GitHubWebhookAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GitHubWebhookStack/GitHubWebhookAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"dnsName":{"Fn::GetAtt":["GitHubWebhookDomain79D3B2DA","DistributionDomainName"]},"hostedZoneId":{"Fn::GetAtt":["GitHubWebhookDomain79D3B2DA","DistributionHostedZoneId"]}},"hostedZoneId":"DUMMY","name":"webhooks.e-info.click.","type":"A"}}}}},"GitHubWebhookUrl":{"id":"GitHubWebhookUrl","path":"GitHubWebhookStack/GitHubWebhookUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GitHubWebhookStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"GitHubWebhookStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"Exports":{"id":"Exports","path":"GitHubWebhookStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"GitHubWebhookFunctionA7279CB5\"}":{"id":"Output{\"Ref\":\"GitHubWebhookFunctionA7279CB5\"}","path":"GitHubWebhookStack/Exports/Output{\"Ref\":\"GitHubWebhookFunctionA7279CB5\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GitHubWebhookStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GitHubWebhookStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"HealthCheckStack":{"id":"HealthCheckStack","path":"HealthCheckStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"HealthCheckFunction":{"id":"HealthCheckFunction","path":"HealthCheckStack/HealthCheckFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"HealthCheckStack/HealthCheckFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"HealthCheckStack/HealthCheckFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HealthCheckStack/HealthCheckFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cloudwatch:GetMetricStatistics","Effect":"Allow","Resource":"*"},{"Action":"dynamodb:Query","Effect":"Allow","Resource":"arn:aws:dynamodb:*:*:table/websites-metadata"},{"Action":"sqs:GetQueueAttributes","Effect":"Allow","Resource":"arn:aws:sqs:*:*:*"}],"Version":"2012-10-17"},"policyName":"HealthCheckFunctionServiceRoleDefaultPolicy250D848A","roles":[{"Ref":"HealthCheckFunctionServiceRoleA640C67E"}]}}}}}}},"Code":{"id":"Code","path":"HealthCheckStack/HealthCheckFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"HealthCheckStack/HealthCheckFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"HealthCheckStack/HealthCheckFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"9fbff85cd810059c7ffb63019ed61e156a7e717b165a9083b6e102755e4d0cce.zip"},"environment":{"variables":{"DYNAMODB_METADATA_TABLE":"websites-metadata","SQS_QUEUE_URL":{"Fn::ImportValue":"QueueStack:ExportsOutputRefWebsiteGenerationQueueFD68F17D7D456962"}}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["HealthCheckFunctionServiceRoleA640C67E","Arn"]},"runtime":"nodejs18.x","timeout":10}}},"LogRetention":{"id":"LogRetention","path":"HealthCheckStack/HealthCheckFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"HealthCheckFunction-LogGroup":{"id":"HealthCheckFunction-LogGroup","path":"HealthCheckStack/HealthCheckFunction/HealthCheckFunction-LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"HealthCheckStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"HealthCheckLogRetention":{"id":"HealthCheckLogRetention","path":"HealthCheckStack/HealthCheckLogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckLogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"HealthCheckApi":{"id":"HealthCheckApi","path":"HealthCheckStack/HealthCheckApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"System health monitoring endpoint","name":"health-check-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"HealthCheckStack/HealthCheckApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"HealthCheckStack/HealthCheckApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"HealthCheckStack/HealthCheckApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["HealthCheckApiCloudWatchRole7826F755","Arn"]}}}},"Deployment":{"id":"Deployment","path":"HealthCheckStack/HealthCheckApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"System health monitoring endpoint","restApiId":{"Ref":"HealthCheckApiA2C27605"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"HealthCheckStack/HealthCheckApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"HealthCheckApiDeployment9A0D0C6F3693df94fb93f6a598a2918536e35551"},"restApiId":{"Ref":"HealthCheckApiA2C27605"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"HealthCheckStack/HealthCheckApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"HealthCheckStack/HealthCheckApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"HealthCheckStack/HealthCheckApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["HealthCheckApiA2C27605","RootResourceId"]},"restApiId":{"Ref":"HealthCheckApiA2C27605"}}}}}},"health":{"id":"health","path":"HealthCheckStack/HealthCheckApi/Default/health","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckApi/Default/health/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["HealthCheckApiA2C27605","RootResourceId"]},"pathPart":"health","restApiId":{"Ref":"HealthCheckApiA2C27605"}}}},"OPTIONS":{"id":"OPTIONS","path":"HealthCheckStack/HealthCheckApi/Default/health/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckApi/Default/health/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"HealthCheckApihealth995775A5"},"restApiId":{"Ref":"HealthCheckApiA2C27605"}}}}}},"GET":{"id":"GET","path":"HealthCheckStack/HealthCheckApi/Default/health/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.HealthCheckStackHealthCheckApi4A63BAB5.GET..health":{"id":"ApiPermission.HealthCheckStackHealthCheckApi4A63BAB5.GET..health","path":"HealthCheckStack/HealthCheckApi/Default/health/GET/ApiPermission.HealthCheckStackHealthCheckApi4A63BAB5.GET..health","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HealthCheckFunctionC4679183","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"HealthCheckApiA2C27605"},"/",{"Ref":"HealthCheckApiDeploymentStageprod3CD303CF"},"/GET/health"]]}}}},"ApiPermission.Test.HealthCheckStackHealthCheckApi4A63BAB5.GET..health":{"id":"ApiPermission.Test.HealthCheckStackHealthCheckApi4A63BAB5.GET..health","path":"HealthCheckStack/HealthCheckApi/Default/health/GET/ApiPermission.Test.HealthCheckStackHealthCheckApi4A63BAB5.GET..health","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HealthCheckFunctionC4679183","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"HealthCheckApiA2C27605"},"/test-invoke-stage/GET/health"]]}}}},"Resource":{"id":"Resource","path":"HealthCheckStack/HealthCheckApi/Default/health/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HealthCheckFunctionC4679183","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"503"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"503"}],"resourceId":{"Ref":"HealthCheckApihealth995775A5"},"restApiId":{"Ref":"HealthCheckApiA2C27605"}}}}}}}}}}}},"HealthCheckUrl":{"id":"HealthCheckUrl","path":"HealthCheckStack/HealthCheckUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"HealthCheckStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HealthCheckStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"Exports":{"id":"Exports","path":"HealthCheckStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"HealthCheckFunctionC4679183\"}":{"id":"Output{\"Ref\":\"HealthCheckFunctionC4679183\"}","path":"HealthCheckStack/Exports/Output{\"Ref\":\"HealthCheckFunctionC4679183\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HealthCheckStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HealthCheckStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"DashboardStack":{"id":"DashboardStack","path":"DashboardStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"E-InfoDashboard":{"id":"E-InfoDashboard","path":"DashboardStack/E-InfoDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DashboardStack/E-InfoDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"# Lambda Performance & Reliability\"}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Payment Session - Invocations & Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"StripeCheckoutStack:ExportsOutputRefStripeCheckoutFunctionFAA66D03CFAD860B"},"\",{\"label\":\"Invocations\",\"stat\":\"Sum\"}],[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"StripeCheckoutStack:ExportsOutputRefStripeCheckoutFunctionFAA66D03CFAD860B"},"\",{\"color\":\"#d62728\",\"label\":\"Errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Generate Website - Invocations & Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"CreateProjectStack:ExportsOutputRefGenerateWebsiteFunctionE00554AABE867BCE"},"\",{\"label\":\"Invocations\",\"stat\":\"Sum\"}],[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"CreateProjectStack:ExportsOutputRefGenerateWebsiteFunctionE00554AABE867BCE"},"\",{\"color\":\"#d62728\",\"label\":\"Errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":13,\"properties\":{\"markdown\":\"# DynamoDB Performance\"}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":14,\"properties\":{\"view\":\"timeSeries\",\"title\":\"DynamoDB - User & System Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"UserErrors\",\"TableName\",\"",{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"\",{\"color\":\"#d62728\",\"label\":\"User Errors\",\"stat\":\"Sum\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"TableName\",\"",{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"},"\",{\"color\":\"#ff7f0e\",\"label\":\"System Errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":20,\"properties\":{\"markdown\":\"# SQS Queue Health\"}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":21,\"properties\":{\"view\":\"timeSeries\",\"title\":\"SQS - Message Count\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/SQS\",\"ApproximateNumberOfMessagesVisible\",\"QueueName\",\"",{"Fn::ImportValue":"QueueStack:ExportsOutputFnGetAttWebsiteGenerationQueueFD68F17DQueueName5DADC556"},"\",{\"label\":\"Visible Messages\",\"period\":60}],[\"AWS/SQS\",\"ApproximateNumberOfMessagesNotVisible\",\"QueueName\",\"",{"Fn::ImportValue":"QueueStack:ExportsOutputFnGetAttWebsiteGenerationQueueFD68F17DQueueName5DADC556"},"\",{\"color\":\"#ff7f0e\",\"label\":\"Processing\",\"period\":60}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":27,\"properties\":{\"markdown\":\"# Health Check Endpoint\"}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":28,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Health Check - Status\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"HealthCheckStack:ExportsOutputRefHealthCheckFunctionC46791832701A52A"},"\",{\"label\":\"Checks Run\",\"period\":60,\"stat\":\"Sum\"}],[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"HealthCheckStack:ExportsOutputRefHealthCheckFunctionC46791832701A52A"},"\",{\"color\":\"#d62728\",\"label\":\"Errors\",\"period\":60,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":4,\"x\":0,\"y\":34,\"properties\":{\"markdown\":\"# Monitoring Summary\\n\\n- Monitor Lambda error rates and duration percentiles\\n- Track DynamoDB user/system errors\\n- Watch SQS queue backlog and message age\\n- Check health endpoint status\\n\\nSee `shared/cloudwatch-queries.js` for detailed CloudWatch Insights queries\"}}]}"]]},"dashboardName":"e-info-platform-monitoring"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"DashboardStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"DashboardStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DashboardStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DashboardStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"AlertingStack":{"id":"AlertingStack","path":"AlertingStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"CriticalAlerts":{"id":"CriticalAlerts","path":"AlertingStack/CriticalAlerts","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/CriticalAlerts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"E-Info Critical Alerts","topicName":"e-info-critical-alerts"}}},"admin@e-info.click":{"id":"admin@e-info.click","path":"AlertingStack/CriticalAlerts/admin@e-info.click","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/CriticalAlerts/admin@e-info.click/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"admin@e-info.click","protocol":"email","topicArn":{"Ref":"CriticalAlerts1F1E9D64"}}}}}}}},"PaymentSessionErrorRate":{"id":"PaymentSessionErrorRate","path":"AlertingStack/PaymentSessionErrorRate","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/PaymentSessionErrorRate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"Payment session lambda error rate exceeded threshold","alarmName":"PaymentSession-HighErrorRate","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"StripeCheckoutStack:ExportsOutputRefStripeCheckoutFunctionFAA66D03CFAD860B"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":10}}}}},"PaymentSessionHighDuration":{"id":"PaymentSessionHighDuration","path":"AlertingStack/PaymentSessionHighDuration","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/PaymentSessionHighDuration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"Payment session lambda P95 duration exceeded 20 seconds","alarmName":"PaymentSession-HighDuration","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"StripeCheckoutStack:ExportsOutputRefStripeCheckoutFunctionFAA66D03CFAD860B"}}],"evaluationPeriods":2,"extendedStatistic":"p95","metricName":"Duration","namespace":"AWS/Lambda","period":300,"threshold":20000}}}}},"GenerateWebsiteErrorRate":{"id":"GenerateWebsiteErrorRate","path":"AlertingStack/GenerateWebsiteErrorRate","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/GenerateWebsiteErrorRate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"Generate website lambda error rate exceeded threshold","alarmName":"GenerateWebsite-HighErrorRate","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"CreateProjectStack:ExportsOutputRefGenerateWebsiteFunctionE00554AABE867BCE"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":5}}}}},"GenerateWebsiteHighDuration":{"id":"GenerateWebsiteHighDuration","path":"AlertingStack/GenerateWebsiteHighDuration","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/GenerateWebsiteHighDuration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"Generate website lambda P95 duration exceeded 60 seconds","alarmName":"GenerateWebsite-HighDuration","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"CreateProjectStack:ExportsOutputRefGenerateWebsiteFunctionE00554AABE867BCE"}}],"evaluationPeriods":2,"extendedStatistic":"p95","metricName":"Duration","namespace":"AWS/Lambda","period":300,"threshold":60000}}}}},"StripeWebhookErrors":{"id":"StripeWebhookErrors","path":"AlertingStack/StripeWebhookErrors","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/StripeWebhookErrors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"Stripe webhook lambda encountered errors","alarmName":"StripeWebhook-Errors","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"StripeCheckoutStack:ExportsOutputRefStripeWebhookFunction73CC65ED7615367B"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":3}}}}},"GitHubWebhookErrors":{"id":"GitHubWebhookErrors","path":"AlertingStack/GitHubWebhookErrors","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/GitHubWebhookErrors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"GitHub webhook lambda encountered errors","alarmName":"GitHubWebhook-Errors","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"GitHubWebhookStack:ExportsOutputRefGitHubWebhookFunctionA7279CB5316C9338"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":2}}}}},"DynamoDBUserErrors":{"id":"DynamoDBUserErrors","path":"AlertingStack/DynamoDBUserErrors","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/DynamoDBUserErrors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"DynamoDB metadata table user errors exceeded threshold","alarmName":"DynamoDB-UserErrors","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"TableName","value":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"}}],"evaluationPeriods":1,"metricName":"UserErrors","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":10}}}}},"DynamoDBSystemErrors":{"id":"DynamoDBSystemErrors","path":"AlertingStack/DynamoDBSystemErrors","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/DynamoDBSystemErrors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"DynamoDB metadata table system errors detected","alarmName":"DynamoDB-SystemErrors","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"TableName","value":{"Fn::ImportValue":"DynamoDBMetadata:ExportsOutputRefWebsitesMetadata0BEFCF5AF112BCF8"}}],"evaluationPeriods":1,"metricName":"SystemErrors","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1}}}}},"SQSQueueBacklogHigh":{"id":"SQSQueueBacklogHigh","path":"AlertingStack/SQSQueueBacklogHigh","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/SQSQueueBacklogHigh/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"SQS queue has too many pending messages (>100)","alarmName":"SQS-QueueBacklogHigh","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"QueueName","value":{"Fn::ImportValue":"QueueStack:ExportsOutputFnGetAttWebsiteGenerationQueueFD68F17DQueueName5DADC556"}}],"evaluationPeriods":2,"metricName":"ApproximateNumberOfMessagesVisible","namespace":"AWS/SQS","period":300,"statistic":"Average","threshold":100}}}}},"SQSQueueMessageAgeTooHigh":{"id":"SQSQueueMessageAgeTooHigh","path":"AlertingStack/SQSQueueMessageAgeTooHigh","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/SQSQueueMessageAgeTooHigh/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"SQS queue oldest message is older than 5 minutes","alarmName":"SQS-OldestMessageTooOld","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"QueueName","value":{"Fn::ImportValue":"QueueStack:ExportsOutputFnGetAttWebsiteGenerationQueueFD68F17DQueueName5DADC556"}}],"evaluationPeriods":2,"metricName":"ApproximateAgeOfOldestMessage","namespace":"AWS/SQS","period":300,"statistic":"Maximum","threshold":300}}}}},"HealthCheckErrors":{"id":"HealthCheckErrors","path":"AlertingStack/HealthCheckErrors","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/HealthCheckErrors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"Health check endpoint is returning errors","alarmName":"HealthCheck-Failures","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"HealthCheckStack:ExportsOutputRefHealthCheckFunctionC46791832701A52A"}}],"evaluationPeriods":2,"metricName":"Errors","namespace":"AWS/Lambda","period":60,"statistic":"Sum","threshold":1}}}}},"HealthCheckSlow":{"id":"HealthCheckSlow","path":"AlertingStack/HealthCheckSlow","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AlertingStack/HealthCheckSlow/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"Health check response time exceeded 5 seconds","alarmName":"HealthCheck-SlowResponse","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"HealthCheckStack:ExportsOutputRefHealthCheckFunctionC46791832701A52A"}}],"evaluationPeriods":2,"metricName":"Duration","namespace":"AWS/Lambda","period":300,"statistic":"Maximum","threshold":5000}}}}},"AlertsTopicArn":{"id":"AlertsTopicArn","path":"AlertingStack/AlertsTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"AlertingStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AlertingStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AlertingStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AlertingStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}