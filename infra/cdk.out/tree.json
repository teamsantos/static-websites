{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.211.0"},"children":{"MultiTenantDistribution":{"id":"MultiTenantDistribution","path":"MultiTenantDistribution","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"HostedZone":{"id":"HostedZone","path":"MultiTenantDistribution/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"CertManager":{"id":"CertManager","path":"MultiTenantDistribution/CertManager","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"WildcardCertificate":{"id":"WildcardCertificate","path":"MultiTenantDistribution/CertManager/WildcardCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/CertManager/WildcardCertificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"*.e-info.click","domainValidationOptions":[{"domainName":"e-info.click","hostedZoneId":"DUMMY"}],"subjectAlternativeNames":["e-info.click"],"tags":[{"key":"Name","value":"MultiTenantDistribution/CertManager/WildcardCertificate"}],"validationMethod":"DNS"}}}}},"CertificateParameter":{"id":"CertificateParameter","path":"MultiTenantDistribution/CertManager/CertificateParameter","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/CertManager/CertificateParameter/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"ACM Certificate ARN for *.e-info.click","name":"/acm/certificates/e-info.click","tier":"Standard","type":"String","value":{"Ref":"CertManagerWildcardCertificate24DD7CEC"}}}}}},"CertificateSource":{"id":"CertificateSource","path":"MultiTenantDistribution/CertManager/CertificateSource","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ParameterPath":{"id":"ParameterPath","path":"MultiTenantDistribution/CertManager/ParameterPath","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CertificateArn":{"id":"CertificateArn","path":"MultiTenantDistribution/CertManager/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"StaticWebsitesBucket":{"id":"StaticWebsitesBucket","path":"MultiTenantDistribution/StaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}},"OAC":{"id":"OAC","path":"MultiTenantDistribution/OAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/OAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"description":"OAC for multi-tenant static websites","name":"MultiTenantDistributionOAC582A7CB6","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"PathRewriteFunction":{"id":"PathRewriteFunction","path":"MultiTenantDistribution/PathRewriteFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Function","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/PathRewriteFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Function","aws:cdk:cloudformation:props":{"autoPublish":true,"functionCode":"\nfunction handler(event) {\n    const request = event.request;\n    const host = request.headers.host.value;\n    \n    // Extract project name from subdomain (e.g., \"generating\" from \"generating.e-info.click\")\n    const projectName = host.split('.')[0];\n    \n    // Rewrite the URI to include the project name prefix\n    // <projectName>.e-info.click/ → /<projectName>/index.html\n    // <projectName>.e-info.click/success?id=123 → /<projectName>/success?id=123\n    if (request.uri === '/' || request.uri === '') {\n        request.uri = '/' + projectName + '/index.html';\n    } else {\n        request.uri = '/' + projectName + request.uri;\n    }\n    \n    return request;\n}\n","functionConfig":{"comment":"us-east-1MultiTenantDistrhRewriteFunctionE03B39F8","runtime":"cloudfront-js-1.0"},"name":"us-east-1MultiTenantDistrhRewriteFunctionE03B39F8"}}}}},"ErrorHandlerFunction":{"id":"ErrorHandlerFunction","path":"MultiTenantDistribution/ErrorHandlerFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Function","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/ErrorHandlerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Function","aws:cdk:cloudformation:props":{"autoPublish":true,"functionCode":"\nfunction handler(event) {\n    const response = event.response;\n    const request = event.request;\n    \n    // Only handle error responses\n    if (response.status >= 400) {\n        const host = request.headers.host.value;\n        const projectName = host.split('.')[0];\n        \n        // Redirect error responses to the project's index.html\n        response.statusCode = 200;\n        response.headers['content-type'] = {\n            value: 'text/html; charset=UTF-8'\n        };\n        \n        // Store the project name in a custom header for the origin to use\n        response.headers['x-project-name'] = {\n            value: projectName\n        };\n    }\n    \n    return response;\n}\n","functionConfig":{"comment":"us-east-1MultiTenantDistrrHandlerFunction3E90DEDA","runtime":"cloudfront-js-1.0"},"name":"us-east-1MultiTenantDistrrHandlerFunction3E90DEDA"}}}}},"CorsPolicy":{"id":"CorsPolicy","path":"MultiTenantDistribution/CorsPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.ResponseHeadersPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/CorsPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnResponseHeadersPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::ResponseHeadersPolicy","aws:cdk:cloudformation:props":{"responseHeadersPolicyConfig":{"name":"MultiTenantDistributionCorsPolicy4DA1E45F","corsConfig":{"accessControlAllowCredentials":false,"accessControlAllowHeaders":{"items":["*"]},"accessControlAllowMethods":{"items":["GET","HEAD"]},"accessControlAllowOrigins":{"items":["https://editor.e-info.click"]},"accessControlExposeHeaders":{"items":[]},"accessControlMaxAgeSec":3600,"originOverride":true}}}}}}},"Distribution":{"id":"Distribution","path":"MultiTenantDistribution/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.211.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"MultiTenantDistribution/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"MultiTenantDistribution/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":"teamsantos-static-websites.s3.eu-south-2.amazonaws.com","id":"MultiTenantDistributionOrigin19AF7B4C0","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"MultiTenantDistributionOrigin19AF7B4C0","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"responseHeadersPolicyId":{"Ref":"CorsPolicyA1BBCACE"},"viewerProtocolPolicy":"redirect-to-https","functionAssociations":[{"functionArn":{"Fn::GetAtt":["PathRewriteFunction70CC2D13","FunctionARN"]},"eventType":"viewer-request"},{"functionArn":{"Fn::GetAtt":["ErrorHandlerFunction246F95E6","FunctionARN"]},"eventType":"viewer-response"}]},"aliases":["*.e-info.click"],"comment":"Multi-tenant CloudFront distribution for static websites","customErrorResponses":[{"errorCachingMinTtl":1800,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":1800,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"viewerCertificate":{"acmCertificateArn":{"Ref":"CertManagerWildcardCertificate24DD7CEC"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"WildcardAliasRecord":{"id":"WildcardAliasRecord","path":"MultiTenantDistribution/WildcardAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiTenantDistribution/WildcardAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["Distribution830FAC52","DomainName"]}},"hostedZoneId":"DUMMY","name":"*.e-info.click.","type":"A"}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"MultiTenantDistribution/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.211.0"}},"DistributionId":{"id":"DistributionId","path":"MultiTenantDistribution/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DistributionDomainName":{"id":"DistributionDomainName","path":"MultiTenantDistribution/DistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CertificateArn":{"id":"CertificateArn","path":"MultiTenantDistribution/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"MultiTenantDistribution/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"MultiTenantDistribution/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"MultiTenantDistribution/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MultiTenantDistribution/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"StaticWebsitesBucket":{"id":"StaticWebsitesBucket","path":"StaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"ExistingStaticWebsitesBucket":{"id":"ExistingStaticWebsitesBucket","path":"StaticWebsitesBucket/ExistingStaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}},"BucketName":{"id":"BucketName","path":"StaticWebsitesBucket/BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BucketArn":{"id":"BucketArn","path":"StaticWebsitesBucket/BucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"StaticWebsitesBucket/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"StaticWebsitesBucket/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StaticWebsitesBucket/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StaticWebsitesBucket/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"CreateProjectStack":{"id":"CreateProjectStack","path":"CreateProjectStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"HostedZone":{"id":"HostedZone","path":"CreateProjectStack/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"ApiCertificate":{"id":"ApiCertificate","path":"CreateProjectStack/ApiCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.DnsValidatedCertificate","version":"2.211.0","metadata":[]},"children":{"CertificateRequestorFunction":{"id":"CertificateRequestorFunction","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["acm:RequestCertificate","acm:DescribeCertificate","acm:DeleteCertificate","acm:AddTagsToCertificate"],"Effect":"Allow","Resource":"*"},{"Action":"route53:GetChange","Effect":"Allow","Resource":"*"},{"Action":"route53:changeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["CNAME"],"route53:ChangeResourceRecordSetsActions":["UPSERT"]},"ForAllValues:StringLike":{"route53:ChangeResourceRecordSetsNormalizedRecordNames":["*.api.e-info.click"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/DUMMY"]]}}],"Version":"2012-10-17"},"policyName":"ApiCertificateCertificateRequestorFunctionServiceRoleDefaultPolicy37D02D57","roles":[{"Ref":"ApiCertificateCertificateRequestorFunctionServiceRole86B3A678"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/ApiCertificate/CertificateRequestorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"b073cebcf4d61fb152a30f5a5e57a94df7f980a549fdf1a79a0b18c5750522d8.zip"},"handler":"index.certificateRequestHandler","role":{"Fn::GetAtt":["ApiCertificateCertificateRequestorFunctionServiceRole86B3A678","Arn"]},"runtime":"nodejs22.x","timeout":900}}}}},"CertificateRequestorResource":{"id":"CertificateRequestorResource","path":"CreateProjectStack/ApiCertificate/CertificateRequestorResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"CreateProjectStack/ApiCertificate/CertificateRequestorResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"GitHubToken":{"id":"GitHubToken","path":"CreateProjectStack/GitHubToken","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"GitHubConfig":{"id":"GitHubConfig","path":"CreateProjectStack/GitHubConfig","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"CreateProjectFunction":{"id":"CreateProjectFunction","path":"CreateProjectStack/CreateProjectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/CreateProjectFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-*"]]}]},{"Action":"ses:SendEmail","Effect":"Allow","Resource":"*"},{"Action":["s3:PutObject","s3:GetObject"],"Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites/*"}],"Version":"2012-10-17"},"policyName":"CreateProjectFunctionServiceRoleDefaultPolicy65CCDA1A","roles":[{"Ref":"CreateProjectFunctionServiceRoleCF8E7F22"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/CreateProjectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/CreateProjectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/CreateProjectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"de6071a40d1c06406eccd0af7498bb2fc504ba95df7239f70f00474d4ce35dc6.zip"},"environment":{"variables":{"GITHUB_TOKEN_SECRET_NAME":"github-token","GITHUB_CONFIG_SECRET_NAME":"github-config","FROM_EMAIL":"noreply@e-info.click","AWS_SES_REGION":"us-east-1","S3_BUCKET_NAME":"teamsantos-static-websites"}},"handler":"index.handler","role":{"Fn::GetAtt":["CreateProjectFunctionServiceRoleCF8E7F22","Arn"]},"runtime":"nodejs18.x","timeout":30}}}}},"GenerateWebsiteFunction":{"id":"GenerateWebsiteFunction","path":"CreateProjectStack/GenerateWebsiteFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-token-*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:941058531133:secret:github-config-*"]]}]},{"Action":"ses:SendEmail","Effect":"Allow","Resource":"*"},{"Action":["s3:GetObject","s3:PutObject"],"Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites/*"}],"Version":"2012-10-17"},"policyName":"GenerateWebsiteFunctionServiceRoleDefaultPolicyC3103741","roles":[{"Ref":"GenerateWebsiteFunctionServiceRole95A03123"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/GenerateWebsiteFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/GenerateWebsiteFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/GenerateWebsiteFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/GenerateWebsiteFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"29cc78b4f1584abd4db45d130ac256a8ab9e0096a5bd0c59a0a9877bcd8292c9.zip"},"environment":{"variables":{"GITHUB_TOKEN_SECRET_NAME":"github-token","GITHUB_CONFIG_SECRET_NAME":"github-config","FROM_EMAIL":"noreply@e-info.click","AWS_SES_REGION":"us-east-1","S3_BUCKET_NAME":"teamsantos-static-websites"}},"handler":"index.handler","role":{"Fn::GetAtt":["GenerateWebsiteFunctionServiceRole95A03123","Arn"]},"runtime":"nodejs18.x","timeout":60}}}}},"CreateProjectApi":{"id":"CreateProjectApi","path":"CreateProjectStack/CreateProjectApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"create-project-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"CreateProjectStack/CreateProjectApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["CreateProjectApiCloudWatchRoleCF5C25E9","Arn"]}}}},"Deployment":{"id":"Deployment","path":"CreateProjectStack/CreateProjectApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"CreateProjectStack/CreateProjectApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"CreateProjectApiDeployment97BD92525e12482237f95b1aa453f79f8614c4e3"},"restApiId":{"Ref":"CreateProjectApi5DF64835"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"CreateProjectStack/CreateProjectApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"CreateProjectStack/CreateProjectApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"create-project":{"id":"create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"pathPart":"create-project","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/create-project/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApicreateproject3FEDB622"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"POST":{"id":"POST","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/POST/create-project"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/POST/create-project"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"409"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"409"},{"statusCode":"500"}],"resourceId":{"Ref":"CreateProjectApicreateproject3FEDB622"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}},"generate-website":{"id":"generate-website","path":"CreateProjectStack/CreateProjectApi/Default/generate-website","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"pathPart":"generate-website","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApigeneratewebsite561A0180"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"POST":{"id":"POST","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/POST/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GenerateWebsiteFunctionE00554AA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/POST/generate-website"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/POST/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..generate-website","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GenerateWebsiteFunctionE00554AA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/POST/generate-website"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/generate-website/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GenerateWebsiteFunctionE00554AA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}],"resourceId":{"Ref":"CreateProjectApigeneratewebsite561A0180"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}}}}}},"ApiDomain":{"id":"ApiDomain","path":"CreateProjectStack/ApiDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.DomainName","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ApiDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDomainName","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::DomainName","aws:cdk:cloudformation:props":{"certificateArn":{"Fn::GetAtt":["ApiCertificateCertificateRequestorResource57CB3F69","Arn"]},"domainName":"api.e-info.click","endpointConfiguration":{"types":["EDGE"]}}}}}},"ApiMapping":{"id":"ApiMapping","path":"CreateProjectStack/ApiMapping","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.BasePathMapping","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ApiMapping/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnBasePathMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::BasePathMapping","aws:cdk:cloudformation:props":{"domainName":{"Ref":"ApiDomain2D27DFFC"},"restApiId":{"Ref":"CreateProjectApi5DF64835"},"stage":{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"}}}}}},"ApiAliasRecord":{"id":"ApiAliasRecord","path":"CreateProjectStack/ApiAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/ApiAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"dnsName":{"Fn::GetAtt":["ApiDomain2D27DFFC","DistributionDomainName"]},"hostedZoneId":{"Fn::GetAtt":["ApiDomain2D27DFFC","DistributionHostedZoneId"]}},"hostedZoneId":"DUMMY","name":"api.e-info.click.","type":"A"}}}}},"ApiUrl":{"id":"ApiUrl","path":"CreateProjectStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ApiCustomUrl":{"id":"ApiCustomUrl","path":"CreateProjectStack/ApiCustomUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"GenerateWebsiteUrl":{"id":"GenerateWebsiteUrl","path":"CreateProjectStack/GenerateWebsiteUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"CreateProjectStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"CreateProjectStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CreateProjectStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CreateProjectStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"StripeCheckoutStack":{"id":"StripeCheckoutStack","path":"StripeCheckoutStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"StripeHostedZone":{"id":"StripeHostedZone","path":"StripeCheckoutStack/StripeHostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"StripeApiCertificate":{"id":"StripeApiCertificate","path":"StripeCheckoutStack/StripeApiCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.DnsValidatedCertificate","version":"2.211.0","metadata":[]},"children":{"CertificateRequestorFunction":{"id":"CertificateRequestorFunction","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["acm:RequestCertificate","acm:DescribeCertificate","acm:DeleteCertificate","acm:AddTagsToCertificate"],"Effect":"Allow","Resource":"*"},{"Action":"route53:GetChange","Effect":"Allow","Resource":"*"},{"Action":"route53:changeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["CNAME"],"route53:ChangeResourceRecordSetsActions":["UPSERT"]},"ForAllValues:StringLike":{"route53:ChangeResourceRecordSetsNormalizedRecordNames":["*.pay.e-info.click"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/DUMMY"]]}}],"Version":"2012-10-17"},"policyName":"StripeApiCertificateCertificateRequestorFunctionServiceRoleDefaultPolicy50B1C827","roles":[{"Ref":"StripeApiCertificateCertificateRequestorFunctionServiceRole97B9EE05"}]}}}}}}},"Code":{"id":"Code","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"b073cebcf4d61fb152a30f5a5e57a94df7f980a549fdf1a79a0b18c5750522d8.zip"},"handler":"index.certificateRequestHandler","role":{"Fn::GetAtt":["StripeApiCertificateCertificateRequestorFunctionServiceRole97B9EE05","Arn"]},"runtime":"nodejs22.x","timeout":900}}}}},"CertificateRequestorResource":{"id":"CertificateRequestorResource","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"StripeCheckoutStack/StripeApiCertificate/CertificateRequestorResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"StripeCheckoutFunction":{"id":"StripeCheckoutFunction","path":"StripeCheckoutStack/StripeCheckoutFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeCheckoutFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3:ListBucket","Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites"},{"Action":["s3:GetObject","s3:PutObject"],"Effect":"Allow","Resource":"arn:aws:s3:::teamsantos-static-websites/metadata.json"}],"Version":"2012-10-17"},"policyName":"StripeCheckoutFunctionServiceRoleDefaultPolicy37F3B9E1","roles":[{"Ref":"StripeCheckoutFunctionServiceRole1C859D01"}]}}}}}}},"Code":{"id":"Code","path":"StripeCheckoutStack/StripeCheckoutFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"StripeCheckoutStack/StripeCheckoutFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"StripeCheckoutStack/StripeCheckoutFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeCheckoutFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-941058531133-eu-south-2","s3Key":"e330f8e571b04b985d2f65fab0d1c217be7b5488a5c27413dea92d18d5247171.zip"},"environment":{"variables":{"STRIPE_SECRET_KEY":"","FRONTEND_URL":"","S3_BUCKET_NAME":"teamsantos-static-websites"}},"handler":"index.handler","role":{"Fn::GetAtt":["StripeCheckoutFunctionServiceRole1C859D01","Arn"]},"runtime":"nodejs18.x","timeout":30}}}}},"StripeApi":{"id":"StripeApi","path":"StripeCheckoutStack/StripeApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"stripe-checkout-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"StripeCheckoutStack/StripeApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"StripeCheckoutStack/StripeApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"StripeCheckoutStack/StripeApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["StripeApiCloudWatchRoleB1B8F809","Arn"]}}}},"Deployment":{"id":"Deployment","path":"StripeCheckoutStack/StripeApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"StripeApi418791B2"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"StripeCheckoutStack/StripeApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"StripeApiDeployment43FB4EE154c00caa2ea4e6da99e0b175eec7ba0a"},"restApiId":{"Ref":"StripeApi418791B2"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"StripeCheckoutStack/StripeApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"StripeCheckoutStack/StripeApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"StripeCheckoutStack/StripeApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["StripeApi418791B2","RootResourceId"]},"restApiId":{"Ref":"StripeApi418791B2"}}}}}},"checkout-session":{"id":"checkout-session","path":"StripeCheckoutStack/StripeApi/Default/checkout-session","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["StripeApi418791B2","RootResourceId"]},"pathPart":"checkout-session","restApiId":{"Ref":"StripeApi418791B2"}}}},"OPTIONS":{"id":"OPTIONS","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"StripeApicheckoutsessionD8FBA017"},"restApiId":{"Ref":"StripeApi418791B2"}}}}}},"POST":{"id":"POST","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session":{"id":"ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/POST/ApiPermission.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StripeCheckoutFunctionFAA66D03","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"StripeApi418791B2"},"/",{"Ref":"StripeApiDeploymentStageprod0B2C37C0"},"/POST/checkout-session"]]}}}},"ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session":{"id":"ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/POST/ApiPermission.Test.StripeCheckoutStackStripeApiBA16A4EA.POST..checkout-session","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StripeCheckoutFunctionFAA66D03","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:941058531133:",{"Ref":"StripeApi418791B2"},"/test-invoke-stage/POST/checkout-session"]]}}}},"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApi/Default/checkout-session/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["StripeCheckoutFunctionFAA66D03","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}]},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"500"}],"resourceId":{"Ref":"StripeApicheckoutsessionD8FBA017"},"restApiId":{"Ref":"StripeApi418791B2"}}}}}}}}}}}},"StripeApiDomain":{"id":"StripeApiDomain","path":"StripeCheckoutStack/StripeApiDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.DomainName","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDomainName","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::DomainName","aws:cdk:cloudformation:props":{"certificateArn":{"Fn::GetAtt":["StripeApiCertificateCertificateRequestorResource7C73B20E","Arn"]},"domainName":"pay.e-info.click","endpointConfiguration":{"types":["EDGE"]}}}}}},"StripeApiMapping":{"id":"StripeApiMapping","path":"StripeCheckoutStack/StripeApiMapping","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.BasePathMapping","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiMapping/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnBasePathMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::BasePathMapping","aws:cdk:cloudformation:props":{"domainName":{"Ref":"StripeApiDomain4A55A6AD"},"restApiId":{"Ref":"StripeApi418791B2"},"stage":{"Ref":"StripeApiDeploymentStageprod0B2C37C0"}}}}}},"StripeApiAliasRecord":{"id":"StripeApiAliasRecord","path":"StripeCheckoutStack/StripeApiAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StripeCheckoutStack/StripeApiAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"dnsName":{"Fn::GetAtt":["StripeApiDomain4A55A6AD","DistributionDomainName"]},"hostedZoneId":{"Fn::GetAtt":["StripeApiDomain4A55A6AD","DistributionHostedZoneId"]}},"hostedZoneId":"DUMMY","name":"pay.e-info.click.","type":"A"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"StripeCheckoutStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"StripeCheckoutStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StripeCheckoutStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StripeCheckoutStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}